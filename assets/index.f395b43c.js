var wu=Object.defineProperty;var bu=(e,t,n)=>t in e?wu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ku=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Ee=(e,t,n)=>(bu(e,typeof t!="symbol"?t+"":t,n),n);var Uy=ku((Vy,br)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerpolicy&&(a.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?a.credentials="include":i.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function R(){}function As(e,t){for(const n in t)e[n]=t[n];return e}function Su(e){return e&&typeof e=="object"&&typeof e.then=="function"}function Ps(e){return e()}function ja(){return Object.create(null)}function Te(e){e.forEach(Ps)}function ea(e){return typeof e=="function"}function Se(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let Jn;function Du(e,t){return Jn||(Jn=document.createElement("a")),Jn.href=t,e===Jn.href}function Tu(e){return Object.keys(e).length===0}function Rs(e,...t){if(e==null)return R;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function $n(e,t,n){e.$$.on_destroy.push(Rs(t,n))}function lt(e){return e&&ea(e.destroy)?e.destroy:R}function M(e,t){e.appendChild(t)}function L(e,t,n){e.insertBefore(t,n||null)}function N(e){e.parentNode.removeChild(e)}function Lr(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function E(e){return document.createElement(e)}function Ou(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function be(e){return document.createTextNode(e)}function H(){return be(" ")}function ze(){return be("")}function J(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function ta(e){return function(t){return t.preventDefault(),e.call(this,t)}}function P(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Mu(e){return Array.from(e.childNodes)}function un(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function ue(e,t){e.value=t==null?"":t}function de(e,t,n){e.classList[n?"add":"remove"](t)}function Eu(e,t,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,r,t),i}class Cu{constructor(t=!1){this.is_svg=!1,this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,n,r=null){this.e||(this.is_svg?this.e=Ou(n.nodeName):this.e=E(n.nodeName),this.t=n,this.c(t)),this.i(r)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let n=0;n<this.n.length;n+=1)L(this.t,this.n[n],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(N)}}let xn;function ct(e){xn=e}function Wr(){if(!xn)throw new Error("Function called outside component initialization");return xn}function xu(e){Wr().$$.after_update.push(e)}function Au(e){Wr().$$.on_destroy.push(e)}function na(){const e=Wr();return(t,n,{cancelable:r=!1}={})=>{const i=e.$$.callbacks[t];if(i){const a=Eu(t,n,{cancelable:r});return i.slice().forEach(s=>{s.call(e,a)}),!a.defaultPrevented}return!0}}function Ba(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(r=>r.call(this,t))}const kn=[],Ua=[],cr=[],Ha=[],Ys=Promise.resolve();let vi=!1;function Is(){vi||(vi=!0,Ys.then(ra))}function Fs(){return Is(),Ys}function _i(e){cr.push(e)}const ri=new Set;let er=0;function ra(){const e=xn;do{for(;er<kn.length;){const t=kn[er];er++,ct(t),Pu(t.$$)}for(ct(null),kn.length=0,er=0;Ua.length;)Ua.pop()();for(let t=0;t<cr.length;t+=1){const n=cr[t];ri.has(n)||(ri.add(n),n())}cr.length=0}while(kn.length);for(;Ha.length;)Ha.pop()();vi=!1,ri.clear(),ct(e)}function Pu(e){if(e.fragment!==null){e.update(),Te(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(_i)}}const fr=new Set;let Ft;function Vt(){Ft={r:0,c:[],p:Ft}}function Gt(){Ft.r||Te(Ft.c),Ft=Ft.p}function q(e,t){e&&e.i&&(fr.delete(e),e.i(t))}function se(e,t,n,r){if(e&&e.o){if(fr.has(e))return;fr.add(e),Ft.c.push(()=>{fr.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function xt(e,t){const n=t.token={};function r(i,a,s,o){if(t.token!==n)return;t.resolved=o;let u=t.ctx;s!==void 0&&(u=u.slice(),u[s]=o);const l=i&&(t.current=i)(u);let c=!1;t.block&&(t.blocks?t.blocks.forEach((f,h)=>{h!==a&&f&&(Vt(),se(f,1,1,()=>{t.blocks[h]===f&&(t.blocks[h]=null)}),Gt())}):t.block.d(1),l.c(),q(l,1),l.m(t.mount(),t.anchor),c=!0),t.block=l,t.blocks&&(t.blocks[a]=l),c&&ra()}if(Su(e)){const i=Wr();if(e.then(a=>{ct(i),r(t.then,1,t.value,a),ct(null)},a=>{if(ct(i),r(t.catch,2,t.error,a),ct(null),!t.hasCatch)throw a}),t.current!==t.pending)return r(t.pending,0),!0}else{if(t.current!==t.then)return r(t.then,1,t.value,e),!0;t.resolved=e}}function cn(e,t,n){const r=t.slice(),{resolved:i}=e;e.current===e.then&&(r[e.value]=i),e.current===e.catch&&(r[e.error]=i),e.block.p(r,n)}function Ru(e,t){e.d(1),t.delete(e.key)}function Yu(e,t,n,r,i,a,s,o,u,l,c,f){let h=e.length,p=a.length,d=h;const m={};for(;d--;)m[e[d].key]=d;const v=[],g=new Map,b=new Map;for(d=p;d--;){const y=f(i,a,d),T=n(y);let S=s.get(T);S?r&&S.p(y,t):(S=l(T,y),S.c()),g.set(T,v[d]=S),T in m&&b.set(T,Math.abs(d-m[T]))}const k=new Set,w=new Set;function _(y){q(y,1),y.m(o,c),s.set(y.key,y),c=y.first,p--}for(;h&&p;){const y=v[p-1],T=e[h-1],S=y.key,A=T.key;y===T?(c=y.first,h--,p--):g.has(A)?!s.has(S)||k.has(S)?_(y):w.has(A)?h--:b.get(S)>b.get(A)?(w.add(S),_(y)):(k.add(A),h--):(u(T,s),h--)}for(;h--;){const y=e[h];g.has(y.key)||u(y,s)}for(;p;)_(v[p-1]);return v}function Ns(e,t){const n={},r={},i={$$scope:1};let a=e.length;for(;a--;){const s=e[a],o=t[a];if(o){for(const u in s)u in o||(r[u]=1);for(const u in o)i[u]||(n[u]=o[u],i[u]=1);e[a]=o}else for(const u in s)i[u]=1}for(const s in r)s in n||(n[s]=void 0);return n}function Ls(e){return typeof e=="object"&&e!==null?e:{}}function Le(e){e&&e.c()}function Ae(e,t,n,r){const{fragment:i,on_mount:a,on_destroy:s,after_update:o}=e.$$;i&&i.m(t,n),r||_i(()=>{const u=a.map(Ps).filter(ea);s?s.push(...u):Te(u),e.$$.on_mount=[]}),o.forEach(_i)}function Pe(e,t){const n=e.$$;n.fragment!==null&&(Te(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Iu(e,t){e.$$.dirty[0]===-1&&(kn.push(e),Is(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Oe(e,t,n,r,i,a,s,o=[-1]){const u=xn;ct(e);const l=e.$$={fragment:null,ctx:null,props:a,update:R,not_equal:i,bound:ja(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:ja(),dirty:o,skip_bound:!1,root:t.target||u.$$.root};s&&s(l.root);let c=!1;if(l.ctx=n?n(e,t.props||{},(f,h,...p)=>{const d=p.length?p[0]:h;return l.ctx&&i(l.ctx[f],l.ctx[f]=d)&&(!l.skip_bound&&l.bound[f]&&l.bound[f](d),c&&Iu(e,f)),h}):[],l.update(),c=!0,Te(l.before_update),l.fragment=r?r(l.ctx):!1,t.target){if(t.hydrate){const f=Mu(t.target);l.fragment&&l.fragment.l(f),f.forEach(N)}else l.fragment&&l.fragment.c();t.intro&&q(e.$$.fragment),Ae(e,t.target,t.anchor,t.customElement),ra()}ct(u)}class Me{$destroy(){Pe(this,1),this.$destroy=R}$on(t,n){const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!Tu(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const qt=[];function Ws(e,t){return{subscribe:Kr(e,t).subscribe}}function Kr(e,t=R){let n;const r=new Set;function i(o){if(Se(e,o)&&(e=o,n)){const u=!qt.length;for(const l of r)l[1](),qt.push(l,e);if(u){for(let l=0;l<qt.length;l+=2)qt[l][0](qt[l+1]);qt.length=0}}}function a(o){i(o(e))}function s(o,u=R){const l=[o,u];return r.add(l),r.size===1&&(n=t(i)||R),o(e),()=>{r.delete(l),r.size===0&&(n(),n=null)}}return{set:i,update:a,subscribe:s}}function Ks(e,t,n){const r=!Array.isArray(e),i=r?[e]:e,a=t.length<2;return Ws(n,s=>{let o=!1;const u=[];let l=0,c=R;const f=()=>{if(l)return;c();const p=t(r?u[0]:u,s);a?s(p):c=ea(p)?p:R},h=i.map((p,d)=>Rs(p,m=>{u[d]=m,l&=~(1<<d),o&&f()},()=>{l|=1<<d}));return o=!0,f(),function(){Te(h),c()}})}function Fu(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,i,a,s=[],o="",u=e.split("/");for(u[0]||u.shift();i=u.shift();)n=i[0],n==="*"?(s.push("wild"),o+="/(.*)"):n===":"?(r=i.indexOf("?",1),a=i.indexOf(".",1),s.push(i.substring(1,~r?r:~a?a:i.length)),o+=!!~r&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(o+=(~r?"?":"")+"\\"+i.substring(a))):o+="/"+i;return{keys:s,pattern:new RegExp("^"+o+(t?"(?=$|/)":"/?$"),"i")}}function Nu(e){let t,n,r;const i=[e[2]];var a=e[0];function s(o){let u={};for(let l=0;l<i.length;l+=1)u=As(u,i[l]);return{props:u}}return a&&(t=new a(s()),t.$on("routeEvent",e[7])),{c(){t&&Le(t.$$.fragment),n=ze()},m(o,u){t&&Ae(t,o,u),L(o,n,u),r=!0},p(o,u){const l=u&4?Ns(i,[Ls(o[2])]):{};if(a!==(a=o[0])){if(t){Vt();const c=t;se(c.$$.fragment,1,0,()=>{Pe(c,1)}),Gt()}a?(t=new a(s()),t.$on("routeEvent",o[7]),Le(t.$$.fragment),q(t.$$.fragment,1),Ae(t,n.parentNode,n)):t=null}else a&&t.$set(l)},i(o){r||(t&&q(t.$$.fragment,o),r=!0)},o(o){t&&se(t.$$.fragment,o),r=!1},d(o){o&&N(n),t&&Pe(t,o)}}}function Lu(e){let t,n,r;const i=[{params:e[1]},e[2]];var a=e[0];function s(o){let u={};for(let l=0;l<i.length;l+=1)u=As(u,i[l]);return{props:u}}return a&&(t=new a(s()),t.$on("routeEvent",e[6])),{c(){t&&Le(t.$$.fragment),n=ze()},m(o,u){t&&Ae(t,o,u),L(o,n,u),r=!0},p(o,u){const l=u&6?Ns(i,[u&2&&{params:o[1]},u&4&&Ls(o[2])]):{};if(a!==(a=o[0])){if(t){Vt();const c=t;se(c.$$.fragment,1,0,()=>{Pe(c,1)}),Gt()}a?(t=new a(s()),t.$on("routeEvent",o[6]),Le(t.$$.fragment),q(t.$$.fragment,1),Ae(t,n.parentNode,n)):t=null}else a&&t.$set(l)},i(o){r||(t&&q(t.$$.fragment,o),r=!0)},o(o){t&&se(t.$$.fragment,o),r=!1},d(o){o&&N(n),t&&Pe(t,o)}}}function Wu(e){let t,n,r,i;const a=[Lu,Nu],s=[];function o(u,l){return u[1]?0:1}return t=o(e),n=s[t]=a[t](e),{c(){n.c(),r=ze()},m(u,l){s[t].m(u,l),L(u,r,l),i=!0},p(u,[l]){let c=t;t=o(u),t===c?s[t].p(u,l):(Vt(),se(s[c],1,1,()=>{s[c]=null}),Gt(),n=s[t],n?n.p(u,l):(n=s[t]=a[t](u),n.c()),q(n,1),n.m(r.parentNode,r))},i(u){i||(q(n),i=!0)},o(u){se(n),i=!1},d(u){s[t].d(u),u&&N(r)}}}function Va(){const e=window.location.href.indexOf("#/");let t=e>-1?window.location.href.substr(e+1):"/";const n=t.indexOf("?");let r="";return n>-1&&(r=t.substr(n+1),t=t.substr(0,n)),{location:t,querystring:r}}const ia=Ws(null,function(t){t(Va());const n=()=>{t(Va())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}});Ks(ia,e=>e.location);Ks(ia,e=>e.querystring);const Ga=Kr(void 0);async function kr(e){if(!e||e.length<1||e.charAt(0)!="/"&&e.indexOf("#/")!==0)throw Error("Invalid parameter location");await Fs(),history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=(e.charAt(0)=="#"?"":"#")+e}function Nt(e,t){if(t=Za(t),!e||!e.tagName||e.tagName.toLowerCase()!="a")throw Error('Action "link" can only be used with <a> tags');return za(e,t),{update(n){n=Za(n),za(e,n)}}}function Ku(e){e?window.scrollTo(e.__svelte_spa_router_scrollX,e.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function za(e,t){let n=t.href||e.getAttribute("href");if(n&&n.charAt(0)=="/")n="#"+n;else if(!n||n.length<2||n.slice(0,2)!="#/")throw Error('Invalid value for "href" attribute: '+n);e.setAttribute("href",n),e.addEventListener("click",r=>{r.preventDefault(),t.disabled||$u(r.currentTarget.getAttribute("href"))})}function Za(e){return e&&typeof e=="string"?{href:e}:e||{}}function $u(e){history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=e}function ju(e,t,n){let{routes:r={}}=t,{prefix:i=""}=t,{restoreScrollState:a=!1}=t;class s{constructor(_,y){if(!y||typeof y!="function"&&(typeof y!="object"||y._sveltesparouter!==!0))throw Error("Invalid component object");if(!_||typeof _=="string"&&(_.length<1||_.charAt(0)!="/"&&_.charAt(0)!="*")||typeof _=="object"&&!(_ instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:T,keys:S}=Fu(_);this.path=_,typeof y=="object"&&y._sveltesparouter===!0?(this.component=y.component,this.conditions=y.conditions||[],this.userData=y.userData,this.props=y.props||{}):(this.component=()=>Promise.resolve(y),this.conditions=[],this.props={}),this._pattern=T,this._keys=S}match(_){if(i){if(typeof i=="string")if(_.startsWith(i))_=_.substr(i.length)||"/";else return null;else if(i instanceof RegExp){const A=_.match(i);if(A&&A[0])_=_.substr(A[0].length)||"/";else return null}}const y=this._pattern.exec(_);if(y===null)return null;if(this._keys===!1)return y;const T={};let S=0;for(;S<this._keys.length;){try{T[this._keys[S]]=decodeURIComponent(y[S+1]||"")||null}catch{T[this._keys[S]]=null}S++}return T}async checkConditions(_){for(let y=0;y<this.conditions.length;y++)if(!await this.conditions[y](_))return!1;return!0}}const o=[];r instanceof Map?r.forEach((w,_)=>{o.push(new s(_,w))}):Object.keys(r).forEach(w=>{o.push(new s(w,r[w]))});let u=null,l=null,c={};const f=na();async function h(w,_){await Fs(),f(w,_)}let p=null,d=null;a&&(d=w=>{w.state&&(w.state.__svelte_spa_router_scrollY||w.state.__svelte_spa_router_scrollX)?p=w.state:p=null},window.addEventListener("popstate",d),xu(()=>{Ku(p)}));let m=null,v=null;const g=ia.subscribe(async w=>{m=w;let _=0;for(;_<o.length;){const y=o[_].match(w.location);if(!y){_++;continue}const T={route:o[_].path,location:w.location,querystring:w.querystring,userData:o[_].userData,params:y&&typeof y=="object"&&Object.keys(y).length?y:null};if(!await o[_].checkConditions(T)){n(0,u=null),v=null,h("conditionsFailed",T);return}h("routeLoading",Object.assign({},T));const S=o[_].component;if(v!=S){S.loading?(n(0,u=S.loading),v=S,n(1,l=S.loadingParams),n(2,c={}),h("routeLoaded",Object.assign({},T,{component:u,name:u.name,params:l}))):(n(0,u=null),v=null);const A=await S();if(w!=m)return;n(0,u=A&&A.default||A),v=S}y&&typeof y=="object"&&Object.keys(y).length?n(1,l=y):n(1,l=null),n(2,c=o[_].props),h("routeLoaded",Object.assign({},T,{component:u,name:u.name,params:l})).then(()=>{Ga.set(l)});return}n(0,u=null),v=null,Ga.set(void 0)});Au(()=>{g(),d&&window.removeEventListener("popstate",d)});function b(w){Ba.call(this,e,w)}function k(w){Ba.call(this,e,w)}return e.$$set=w=>{"routes"in w&&n(3,r=w.routes),"prefix"in w&&n(4,i=w.prefix),"restoreScrollState"in w&&n(5,a=w.restoreScrollState)},e.$$.update=()=>{e.$$.dirty&32&&(history.scrollRestoration=a?"manual":"auto")},[u,l,c,r,i,a,b,k]}class Bu extends Me{constructor(t){super(),Oe(this,t,ju,Wu,Se,{routes:3,prefix:4,restoreScrollState:5})}}function Uu(e){let t,n=e[0].value+"",r;return{c(){t=E("p"),r=be(n),P(t,"class","svelte-1m58w5m")},m(i,a){L(i,t,a),M(t,r)},p(i,a){a&1&&n!==(n=i[0].value+"")&&un(r,n)},d(i){i&&N(t)}}}function Hu(e){let t,n=e[0].value+"",r,i,a,s;return{c(){t=E("div"),r=be(n),P(t,"role",i=e[1]?"":"button"),P(t,"class","secondary outline word svelte-1m58w5m"),de(t,"disabled",e[1]),de(t,"good",e[0].status===2),de(t,"neverSeen",e[0].status===0),de(t,"regular",e[0].status===1),de(t,"proficient",e[0].status===3)},m(o,u){L(o,t,u),M(t,r),a||(s=[J(t,"click",e[2]),J(t,"mousedown",e[3])],a=!0)},p(o,u){u&1&&n!==(n=o[0].value+"")&&un(r,n),u&2&&i!==(i=o[1]?"":"button")&&P(t,"role",i),u&2&&de(t,"disabled",o[1]),u&1&&de(t,"good",o[0].status===2),u&1&&de(t,"neverSeen",o[0].status===0),u&1&&de(t,"regular",o[0].status===1),u&1&&de(t,"proficient",o[0].status===3)},d(o){o&&N(t),a=!1,Te(s)}}}function Vu(e){let t;function n(a,s){if(a[0].type==="term")return Hu;if(a[0].type==="symbol")return Uu}let r=n(e),i=r&&r(e);return{c(){i&&i.c(),t=ze()},m(a,s){i&&i.m(a,s),L(a,t,s)},p(a,[s]){r===(r=n(a))&&i?i.p(a,s):(i&&i.d(1),i=r&&r(a),i&&(i.c(),i.m(t.parentNode,t)))},i:R,o:R,d(a){i&&i.d(a),a&&N(t)}}}function Gu(e,t,n){let{term:r}=t,{disabled:i=!1}=t;const a=na(),s=()=>{a("toggle")},o=()=>{console.log("mouseDown")};return e.$$set=u=>{"term"in u&&n(0,r=u.term),"disabled"in u&&n(1,i=u.disabled)},[r,i,s,o]}class $s extends Me{constructor(t){super(),Oe(this,t,Gu,Vu,Se,{term:0,disabled:1})}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.
Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.
THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var B=function(){return B=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},B.apply(this,arguments)};function gi(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var te=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,le=Object.keys,ye=Array.isArray;typeof Promise<"u"&&!te.Promise&&(te.Promise=Promise);function ke(e,t){return typeof t!="object"||le(t).forEach(function(n){e[n]=t[n]}),e}var An=Object.getPrototypeOf,zu={}.hasOwnProperty;function Re(e,t){return zu.call(e,t)}function ln(e,t){typeof t=="function"&&(t=t(An(e))),(typeof Reflect>"u"?le:Reflect.ownKeys)(t).forEach(function(n){yt(e,n,t[n])})}var js=Object.defineProperty;function yt(e,t,n,r){js(e,t,ke(n&&Re(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function fn(e){return{from:function(t){return e.prototype=Object.create(t.prototype),yt(e.prototype,"constructor",e),{extend:ln.bind(null,e.prototype)}}}}var Zu=Object.getOwnPropertyDescriptor;function aa(e,t){var n=Zu(e,t),r;return n||(r=An(e))&&aa(r,t)}var qu=[].slice;function $r(e,t,n){return qu.call(e,t,n)}function Bs(e,t){return t(e)}function Sn(e){if(!e)throw new Error("Assertion Failed")}function Us(e){te.setImmediate?setImmediate(e):setTimeout(e,0)}function Hs(e,t){return e.reduce(function(n,r,i){var a=t(r,i);return a&&(n[a[0]]=a[1]),n},{})}function Xu(e,t,n){try{e.apply(null,n)}catch(r){t&&t(r)}}function pt(e,t){if(Re(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var n=[],r=0,i=t.length;r<i;++r){var a=pt(e,t[r]);n.push(a)}return n}var s=t.indexOf(".");if(s!==-1){var o=e[t.substr(0,s)];return o===void 0?void 0:pt(o,t.substr(s+1))}}function He(e,t,n){if(!(!e||t===void 0)&&!("isFrozen"in Object&&Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){Sn(typeof n!="string"&&"length"in n);for(var r=0,i=t.length;r<i;++r)He(e,t[r],n[r])}else{var a=t.indexOf(".");if(a!==-1){var s=t.substr(0,a),o=t.substr(a+1);if(o==="")n===void 0?ye(e)&&!isNaN(parseInt(s))?e.splice(s,1):delete e[s]:e[s]=n;else{var u=e[s];(!u||!Re(e,s))&&(u=e[s]={}),He(u,o,n)}}else n===void 0?ye(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function Qu(e,t){typeof t=="string"?He(e,t,void 0):"length"in t&&[].map.call(t,function(n){He(e,n,void 0)})}function Vs(e){var t={};for(var n in e)Re(e,n)&&(t[n]=e[n]);return t}var Ju=[].concat;function Gs(e){return Ju.apply([],e)}var zs="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Gs([8,16,32,64].map(function(e){return["Int","Uint","Float"].map(function(t){return t+e+"Array"})}))).filter(function(e){return te[e]}),el=zs.map(function(e){return te[e]});Hs(zs,function(e){return[e,!0]});var Dt=null;function jn(e){Dt=typeof WeakMap<"u"&&new WeakMap;var t=wi(e);return Dt=null,t}function wi(e){if(!e||typeof e!="object")return e;var t=Dt&&Dt.get(e);if(t)return t;if(ye(e)){t=[],Dt&&Dt.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(wi(e[n]))}else if(el.indexOf(e.constructor)>=0)t=e;else{var i=An(e);t=i===Object.prototype?{}:Object.create(i),Dt&&Dt.set(e,t);for(var a in e)Re(e,a)&&(t[a]=wi(e[a]))}return t}var tl={}.toString;function bi(e){return tl.call(e).slice(8,-1)}var ki=typeof Symbol<"u"?Symbol.iterator:"@@iterator",nl=typeof ki=="symbol"?function(e){var t;return e!=null&&(t=e[ki])&&t.apply(e)}:function(){return null},en={};function ut(e){var t,n,r,i;if(arguments.length===1){if(ye(e))return e.slice();if(this===en&&typeof e=="string")return[e];if(i=nl(e)){for(n=[];r=i.next(),!r.done;)n.push(r.value);return n}if(e==null)return[e];if(t=e.length,typeof t=="number"){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var sa=typeof Symbol<"u"?function(e){return e[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},tt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Zs(e,t){tt=e,qs=t}var qs=function(){return!0},rl=!new Error("").stack;function zt(){if(rl)try{throw zt.arguments,new Error}catch(e){return e}return new Error}function Si(e,t){var n=e.stack;return n?(t=t||0,n.indexOf(e.name)===0&&(t+=(e.name+e.message).split(`
`).length),n.split(`
`).slice(t).filter(qs).map(function(r){return`
`+r}).join("")):""}var il=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],Xs=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],oa=il.concat(Xs),al={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function hn(e,t){this._e=zt(),this.name=e,this.message=t}fn(hn).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Si(this._e,2))}},toString:function(){return this.name+": "+this.message}});function Qs(e,t){return e+". Errors: "+Object.keys(t).map(function(n){return t[n].toString()}).filter(function(n,r,i){return i.indexOf(n)===r}).join(`
`)}function Sr(e,t,n,r){this._e=zt(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=Qs(e,t)}fn(Sr).from(hn);function Tn(e,t){this._e=zt(),this.name="BulkError",this.failures=Object.keys(t).map(function(n){return t[n]}),this.failuresByPos=t,this.message=Qs(e,t)}fn(Tn).from(hn);var ua=oa.reduce(function(e,t){return e[t]=t+"Error",e},{}),sl=hn,F=oa.reduce(function(e,t){var n=t+"Error";function r(i,a){this._e=zt(),this.name=n,i?typeof i=="string"?(this.message=""+i+(a?`
 `+a:""),this.inner=a||null):typeof i=="object"&&(this.message=i.name+" "+i.message,this.inner=i):(this.message=al[t]||n,this.inner=null)}return fn(r).from(sl),e[t]=r,e},{});F.Syntax=SyntaxError;F.Type=TypeError;F.Range=RangeError;var qa=Xs.reduce(function(e,t){return e[t+"Error"]=F[t],e},{});function ol(e,t){if(!e||e instanceof hn||e instanceof TypeError||e instanceof SyntaxError||!e.name||!qa[e.name])return e;var n=new qa[e.name](t||e.message,e);return"stack"in e&&yt(n,"stack",{get:function(){return this.inner.stack}}),n}var jr=oa.reduce(function(e,t){return["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=F[t]),e},{});jr.ModifyError=Sr;jr.DexieError=hn;jr.BulkError=Tn;function ee(){}function Bn(e){return e}function ul(e,t){return e==null||e===Bn?t:function(n){return t(e(n))}}function Ut(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function ll(e,t){return e===ee?t:function(){var n=e.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?Ut(r,this.onsuccess):r),i&&(this.onerror=this.onerror?Ut(i,this.onerror):i),a!==void 0?a:n}}function cl(e,t){return e===ee?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?Ut(n,this.onsuccess):n),r&&(this.onerror=this.onerror?Ut(r,this.onerror):r)}}function fl(e,t){return e===ee?t:function(n){var r=e.apply(this,arguments);ke(n,r);var i=this.onsuccess,a=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?Ut(i,this.onsuccess):i),a&&(this.onerror=this.onerror?Ut(a,this.onerror):a),r===void 0?s===void 0?void 0:s:ke(r,s)}}function hl(e,t){return e===ee?t:function(){return t.apply(this,arguments)===!1?!1:e.apply(this,arguments)}}function la(e,t){return e===ee?t:function(){var n=e.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,i=arguments.length,a=new Array(i);i--;)a[i]=arguments[i];return n.then(function(){return t.apply(r,a)})}return t.apply(this,arguments)}}var Pn={},dl=100,pl=20,Js=100,ca=typeof Promise>"u"?[]:function(){var e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,An(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,An(t),e]}(),Di=ca[0],Dr=ca[1],Ti=ca[2],eo=Dr&&Dr.then,hr=Di&&Di.constructor,fa=!!Ti,Oi=!1,ml=Ti?function(){Ti.then(tr)}:te.setImmediate?setImmediate.bind(null,tr):te.MutationObserver?function(){var e=document.createElement("div");new MutationObserver(function(){tr(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(tr,0)},Rn=function(e,t){Dn.push([e,t]),Tr&&(ml(),Tr=!1)},Mi=!0,Tr=!0,$t=[],dr=[],Ei=null,Ci=Bn,rn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ja,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(function(e){try{Ja(e[0],e[1])}catch{}})}},I=rn,Dn=[],jt=0,pr=[];function x(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=ee,this._lib=!1;var t=this._PSD=I;if(tt&&(this._stackHolder=zt(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==Pn)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&Ai(this,this._value);return}this._state=null,this._value=null,++t.ref,no(this,e)}var xi={get:function(){var e=I,t=Or;function n(r,i){var a=this,s=!e.global&&(e!==I||t!==Or),o=s&&!vt(),u=new x(function(l,c){ha(a,new to(Er(r,e,s,o),Er(i,e,s,o),l,c,e))});return tt&&ao(u,this),u}return n.prototype=Pn,n},set:function(e){yt(this,"then",e&&e.prototype===Pn?xi:{get:function(){return e},set:xi.set})}};ln(x.prototype,{then:xi,_then:function(e,t){ha(this,new to(null,null,e,t,I))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],n=arguments[1];return typeof t=="function"?this.then(null,function(r){return r instanceof t?n(r):mr(r)}):this.then(null,function(r){return r&&r.name===t?n(r):mr(r)})},finally:function(e){return this.then(function(t){return e(),t},function(t){return e(),mr(t)})},stack:{get:function(){if(this._stack)return this._stack;try{Oi=!0;var e=io(this,[],pl),t=e.join(`
From previous: `);return this._state!==null&&(this._stack=t),t}finally{Oi=!1}}},timeout:function(e,t){var n=this;return e<1/0?new x(function(r,i){var a=setTimeout(function(){return i(new F.Timeout(t))},e);n.then(r,i).finally(clearTimeout.bind(null,a))}):this}});typeof Symbol<"u"&&Symbol.toStringTag&&yt(x.prototype,Symbol.toStringTag,"Dexie.Promise");rn.env=so();function to(e,t,n,r,i){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=n,this.reject=r,this.psd=i}ln(x,{all:function(){var e=ut.apply(null,arguments).map(Mr);return new x(function(t,n){e.length===0&&t([]);var r=e.length;e.forEach(function(i,a){return x.resolve(i).then(function(s){e[a]=s,--r||t(e)},n)})})},resolve:function(e){if(e instanceof x)return e;if(e&&typeof e.then=="function")return new x(function(n,r){e.then(n,r)});var t=new x(Pn,!0,e);return ao(t,Ei),t},reject:mr,race:function(){var e=ut.apply(null,arguments).map(Mr);return new x(function(t,n){e.map(function(r){return x.resolve(r).then(t,n)})})},PSD:{get:function(){return I},set:function(e){return I=e}},totalEchoes:{get:function(){return Or}},newPSD:At,usePSD:pn,scheduler:{get:function(){return Rn},set:function(e){Rn=e}},rejectionMapper:{get:function(){return Ci},set:function(e){Ci=e}},follow:function(e,t){return new x(function(n,r){return At(function(i,a){var s=I;s.unhandleds=[],s.onunhandled=a,s.finalize=Ut(function(){var o=this;vl(function(){o.unhandleds.length===0?i():a(o.unhandleds[0])})},s.finalize),e()},t,n,r)})}});hr&&(hr.allSettled&&yt(x,"allSettled",function(){var e=ut.apply(null,arguments).map(Mr);return new x(function(t){e.length===0&&t([]);var n=e.length,r=new Array(n);e.forEach(function(i,a){return x.resolve(i).then(function(s){return r[a]={status:"fulfilled",value:s}},function(s){return r[a]={status:"rejected",reason:s}}).then(function(){return--n||t(r)})})})}),hr.any&&typeof AggregateError<"u"&&yt(x,"any",function(){var e=ut.apply(null,arguments).map(Mr);return new x(function(t,n){e.length===0&&n(new AggregateError([]));var r=e.length,i=new Array(r);e.forEach(function(a,s){return x.resolve(a).then(function(o){return t(o)},function(o){i[s]=o,--r||n(new AggregateError(i))})})})}));function no(e,t){try{t(function(n){if(e._state===null){if(n===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&Un();n&&typeof n.then=="function"?no(e,function(i,a){n instanceof x?n._then(i,a):n.then(i,a)}):(e._state=!0,e._value=n,ro(e)),r&&Hn()}},Ai.bind(null,e))}catch(n){Ai(e,n)}}function Ai(e,t){if(dr.push(t),e._state===null){var n=e._lib&&Un();t=Ci(t),e._state=!1,e._value=t,tt&&t!==null&&typeof t=="object"&&!t._promise&&Xu(function(){var r=aa(t,"stack");t._promise=e,yt(t,"stack",{get:function(){return Oi?r&&(r.get?r.get.apply(t):r.value):e.stack}})}),_l(e),ro(e),n&&Hn()}}function ro(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)ha(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),jt===0&&(++jt,Rn(function(){--jt===0&&da()},[]))}function ha(e,t){if(e._state===null){e._listeners.push(t);return}var n=e._state?t.onFulfilled:t.onRejected;if(n===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++jt,Rn(yl,[n,e,t])}function yl(e,t,n){try{Ei=t;var r,i=t._value;t._state?r=e(i):(dr.length&&(dr=[]),r=e(i),dr.indexOf(i)===-1&&gl(t)),n.resolve(r)}catch(a){n.reject(a)}finally{Ei=null,--jt===0&&da(),--n.psd.ref||n.psd.finalize()}}function io(e,t,n){if(t.length===n)return t;var r="";if(e._state===!1){var i=e._value,a,s;i!=null?(a=i.name||"Error",s=i.message||i,r=Si(i,0)):(a=i,s=""),t.push(a+(s?": "+s:"")+r)}return tt&&(r=Si(e._stackHolder,2),r&&t.indexOf(r)===-1&&t.push(r),e._prev&&io(e._prev,t,n)),t}function ao(e,t){var n=t?t._numPrev+1:0;n<dl&&(e._prev=t,e._numPrev=n)}function tr(){Un()&&Hn()}function Un(){var e=Mi;return Mi=!1,Tr=!1,e}function Hn(){var e,t,n;do for(;Dn.length>0;)for(e=Dn,Dn=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}while(Dn.length>0);Mi=!0,Tr=!0}function da(){var e=$t;$t=[],e.forEach(function(r){r._PSD.onunhandled.call(null,r._value,r)});for(var t=pr.slice(0),n=t.length;n;)t[--n]()}function vl(e){function t(){e(),pr.splice(pr.indexOf(t),1)}pr.push(t),++jt,Rn(function(){--jt===0&&da()},[])}function _l(e){$t.some(function(t){return t._value===e._value})||$t.push(e)}function gl(e){for(var t=$t.length;t;)if($t[--t]._value===e._value){$t.splice(t,1);return}}function mr(e){return new x(Pn,!1,e)}function ae(e,t){var n=I;return function(){var r=Un(),i=I;try{return Pt(n,!0),e.apply(this,arguments)}catch(a){t&&t(a)}finally{Pt(i,!1),r&&Hn()}}}var me={awaits:0,echoes:0,id:0},wl=0,yr=[],ii=0,Or=0,bl=0;function At(e,t,n,r){var i=I,a=Object.create(i);a.parent=i,a.ref=0,a.global=!1,a.id=++bl;var s=rn.env;a.env=fa?{Promise:x,PromiseProp:{value:x,configurable:!0,writable:!0},all:x.all,race:x.race,allSettled:x.allSettled,any:x.any,resolve:x.resolve,reject:x.reject,nthen:Xa(s.nthen,a),gthen:Xa(s.gthen,a)}:{},t&&ke(a,t),++i.ref,a.finalize=function(){--this.parent.ref||this.parent.finalize()};var o=pn(a,e,n,r);return a.ref===0&&a.finalize(),o}function dn(){return me.id||(me.id=++wl),++me.awaits,me.echoes+=Js,me.id}function vt(){return me.awaits?(--me.awaits===0&&(me.id=0),me.echoes=me.awaits*Js,!0):!1}(""+eo).indexOf("[native code]")===-1&&(dn=vt=ee);function Mr(e){return me.echoes&&e&&e.constructor===hr?(dn(),e.then(function(t){return vt(),t},function(t){return vt(),he(t)})):e}function kl(e){++Or,(!me.echoes||--me.echoes===0)&&(me.echoes=me.id=0),yr.push(I),Pt(e,!0)}function Sl(){var e=yr[yr.length-1];yr.pop(),Pt(e,!1)}function Pt(e,t){var n=I;if((t?me.echoes&&(!ii++||e!==I):ii&&(!--ii||e!==I))&&oo(t?kl.bind(null,e):Sl),e!==I&&(I=e,n===rn&&(rn.env=so()),fa)){var r=rn.env.Promise,i=e.env;Dr.then=i.nthen,r.prototype.then=i.gthen,(n.global||e.global)&&(Object.defineProperty(te,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function so(){var e=te.Promise;return fa?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(te,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:Dr.then,gthen:e.prototype.then}:{}}function pn(e,t,n,r,i){var a=I;try{return Pt(e,!0),t(n,r,i)}finally{Pt(a,!1)}}function oo(e){eo.call(Di,e)}function Er(e,t,n,r){return typeof e!="function"?e:function(){var i=I;n&&dn(),Pt(t,!0);try{return e.apply(this,arguments)}finally{Pt(i,!1),r&&oo(vt)}}}function Xa(e,t){return function(n,r){return e.call(this,Er(n,t),Er(r,t))}}var Qa="unhandledrejection";function Ja(e,t){var n;try{n=t.onuncatched(e)}catch{}if(n!==!1)try{var r,i={promise:t,reason:e};if(te.document&&document.createEvent?(r=document.createEvent("Event"),r.initEvent(Qa,!0,!0),ke(r,i)):te.CustomEvent&&(r=new CustomEvent(Qa,{detail:i}),ke(r,i)),r&&te.dispatchEvent&&(dispatchEvent(r),!te.PromiseRejectionEvent&&te.onunhandledrejection))try{te.onunhandledrejection(r)}catch{}tt&&r&&!r.defaultPrevented&&console.warn("Unhandled rejection: "+(e.stack||e))}catch{}}var he=x.reject;function Pi(e,t,n,r){if(!e.idbdb||!e._state.openComplete&&!I.letThrough&&!e._vip){if(e._state.openComplete)return he(new F.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return he(new F.DatabaseClosed);e.open().catch(ee)}return e._state.dbReadyPromise.then(function(){return Pi(e,t,n,r)})}else{var i=e._createTransaction(t,n,e._dbSchema);try{i.create(),e._state.PR1398_maxLoop=3}catch(a){return a.name===ua.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(function(){return Pi(e,t,n,r)})):he(a)}return i._promise(t,function(a,s){return At(function(){return I.trans=i,r(a,s,i)})}).then(function(a){return i._completion.then(function(){return a})})}}var es="3.2.2",Lt=String.fromCharCode(65535),Ri=-1/0,it="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",uo="String expected.",On=[],Br=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Dl=Br,Tl=Br,lo=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)},Ur="__dbnames",ai="readonly",si="readwrite";function Ht(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var co={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function nr(e){return typeof e=="string"&&!/\./.test(e)?function(t){return t[e]===void 0&&e in t&&(t=jn(t),delete t[e]),t}:function(t){return t}}var Ol=function(){function e(){}return e.prototype._trans=function(t,n,r){var i=this._tx||I.trans,a=this.name;function s(u,l,c){if(!c.schema[a])throw new F.NotFound("Table "+a+" not part of transaction");return n(c.idbtrans,c)}var o=Un();try{return i&&i.db===this.db?i===I.trans?i._promise(t,s,r):At(function(){return i._promise(t,s,r)},{trans:i,transless:I.transless||I}):Pi(this.db,t,[this.name],s)}finally{o&&Hn()}},e.prototype.get=function(t,n){var r=this;return t&&t.constructor===Object?this.where(t).first(n):this._trans("readonly",function(i){return r.core.get({trans:i,key:t}).then(function(a){return r.hook.reading.fire(a)})}).then(n)},e.prototype.where=function(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(ye(t))return new this.db.WhereClause(this,"["+t.join("+")+"]");var n=le(t);if(n.length===1)return this.where(n[0]).equals(t[n[0]]);var r=this.schema.indexes.concat(this.schema.primKey).filter(function(c){return c.compound&&n.every(function(f){return c.keyPath.indexOf(f)>=0})&&c.keyPath.every(function(f){return n.indexOf(f)>=0})})[0];if(r&&this.db._maxKey!==Lt)return this.where(r.name).equals(r.keyPath.map(function(c){return t[c]}));!r&&tt&&console.warn("The query "+JSON.stringify(t)+" on "+this.name+" would benefit of a "+("compound index ["+n.join("+")+"]"));var i=this.schema.idxByName,a=this.db._deps.indexedDB;function s(c,f){try{return a.cmp(c,f)===0}catch{return!1}}var o=n.reduce(function(c,f){var h=c[0],p=c[1],d=i[f],m=t[f];return[h||d,h||!d?Ht(p,d&&d.multi?function(v){var g=pt(v,f);return ye(g)&&g.some(function(b){return s(m,b)})}:function(v){return s(m,pt(v,f))}):p]},[null,null]),u=o[0],l=o[1];return u?this.where(u.name).equals(t[u.keyPath]).filter(l):r?this.filter(l):this.where(n).equals("")},e.prototype.filter=function(t){return this.toCollection().and(t)},e.prototype.count=function(t){return this.toCollection().count(t)},e.prototype.offset=function(t){return this.toCollection().offset(t)},e.prototype.limit=function(t){return this.toCollection().limit(t)},e.prototype.each=function(t){return this.toCollection().each(t)},e.prototype.toArray=function(t){return this.toCollection().toArray(t)},e.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},e.prototype.orderBy=function(t){return new this.db.Collection(new this.db.WhereClause(this,ye(t)?"["+t.join("+")+"]":t))},e.prototype.reverse=function(){return this.toCollection().reverse()},e.prototype.mapToClass=function(t){this.schema.mappedClass=t;var n=function(r){if(!r)return r;var i=Object.create(t.prototype);for(var a in r)if(Re(r,a))try{i[a]=r[a]}catch{}return i};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),t},e.prototype.defineClass=function(){function t(n){ke(this,n)}return this.mapToClass(t)},e.prototype.add=function(t,n){var r=this,i=this.schema.primKey,a=i.auto,s=i.keyPath,o=t;return s&&a&&(o=nr(s)(t)),this._trans("readwrite",function(u){return r.core.mutate({trans:u,type:"add",keys:n!=null?[n]:null,values:[o]})}).then(function(u){return u.numFailures?x.reject(u.failures[0]):u.lastResult}).then(function(u){if(s)try{He(t,s,u)}catch{}return u})},e.prototype.update=function(t,n){if(typeof t=="object"&&!ye(t)){var r=pt(t,this.schema.primKey.keyPath);if(r===void 0)return he(new F.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?le(n).forEach(function(i){He(t,i,n[i])}):n(t,{value:t,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}else return this.where(":id").equals(t).modify(n)},e.prototype.put=function(t,n){var r=this,i=this.schema.primKey,a=i.auto,s=i.keyPath,o=t;return s&&a&&(o=nr(s)(t)),this._trans("readwrite",function(u){return r.core.mutate({trans:u,type:"put",values:[o],keys:n!=null?[n]:null})}).then(function(u){return u.numFailures?x.reject(u.failures[0]):u.lastResult}).then(function(u){if(s)try{He(t,s,u)}catch{}return u})},e.prototype.delete=function(t){var n=this;return this._trans("readwrite",function(r){return n.core.mutate({trans:r,type:"delete",keys:[t]})}).then(function(r){return r.numFailures?x.reject(r.failures[0]):void 0})},e.prototype.clear=function(){var t=this;return this._trans("readwrite",function(n){return t.core.mutate({trans:n,type:"deleteRange",range:co})}).then(function(n){return n.numFailures?x.reject(n.failures[0]):void 0})},e.prototype.bulkGet=function(t){var n=this;return this._trans("readonly",function(r){return n.core.getMany({keys:t,trans:r}).then(function(i){return i.map(function(a){return n.hook.reading.fire(a)})})})},e.prototype.bulkAdd=function(t,n,r){var i=this,a=Array.isArray(n)?n:void 0;r=r||(a?void 0:n);var s=r?r.allKeys:void 0;return this._trans("readwrite",function(o){var u=i.schema.primKey,l=u.auto,c=u.keyPath;if(c&&a)throw new F.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(a&&a.length!==t.length)throw new F.InvalidArgument("Arguments objects and keys must have the same length");var f=t.length,h=c&&l?t.map(nr(c)):t;return i.core.mutate({trans:o,type:"add",keys:a,values:h,wantResults:s}).then(function(p){var d=p.numFailures,m=p.results,v=p.lastResult,g=p.failures,b=s?m:v;if(d===0)return b;throw new Tn(i.name+".bulkAdd(): "+d+" of "+f+" operations failed",g)})})},e.prototype.bulkPut=function(t,n,r){var i=this,a=Array.isArray(n)?n:void 0;r=r||(a?void 0:n);var s=r?r.allKeys:void 0;return this._trans("readwrite",function(o){var u=i.schema.primKey,l=u.auto,c=u.keyPath;if(c&&a)throw new F.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(a&&a.length!==t.length)throw new F.InvalidArgument("Arguments objects and keys must have the same length");var f=t.length,h=c&&l?t.map(nr(c)):t;return i.core.mutate({trans:o,type:"put",keys:a,values:h,wantResults:s}).then(function(p){var d=p.numFailures,m=p.results,v=p.lastResult,g=p.failures,b=s?m:v;if(d===0)return b;throw new Tn(i.name+".bulkPut(): "+d+" of "+f+" operations failed",g)})})},e.prototype.bulkDelete=function(t){var n=this,r=t.length;return this._trans("readwrite",function(i){return n.core.mutate({trans:i,type:"delete",keys:t})}).then(function(i){var a=i.numFailures,s=i.lastResult,o=i.failures;if(a===0)return s;throw new Tn(n.name+".bulkDelete(): "+a+" of "+r+" operations failed",o)})},e}();function Vn(e){var t={},n=function(o,u){if(u){for(var l=arguments.length,c=new Array(l-1);--l;)c[l-1]=arguments[l];return t[o].subscribe.apply(null,c),e}else if(typeof o=="string")return t[o]};n.addEventType=a;for(var r=1,i=arguments.length;r<i;++r)a(arguments[r]);return n;function a(o,u,l){if(typeof o=="object")return s(o);u||(u=hl),l||(l=ee);var c={subscribers:[],fire:l,subscribe:function(f){c.subscribers.indexOf(f)===-1&&(c.subscribers.push(f),c.fire=u(c.fire,f))},unsubscribe:function(f){c.subscribers=c.subscribers.filter(function(h){return h!==f}),c.fire=c.subscribers.reduce(u,l)}};return t[o]=n[o]=c,c}function s(o){le(o).forEach(function(u){var l=o[u];if(ye(l))a(u,o[u][0],o[u][1]);else if(l==="asap")var c=a(u,Bn,function(){for(var h=arguments.length,p=new Array(h);h--;)p[h]=arguments[h];c.subscribers.forEach(function(d){Us(function(){d.apply(null,p)})})});else throw new F.InvalidArgument("Invalid event config")})}}function Gn(e,t){return fn(t).from({prototype:e}),t}function Ml(e){return Gn(Ol.prototype,function(n,r,i){this.db=e,this._tx=i,this.name=n,this.schema=r,this.hook=e._allTables[n]?e._allTables[n].hook:Vn(null,{creating:[ll,ee],reading:[ul,Bn],updating:[fl,ee],deleting:[cl,ee]})})}function Xt(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function oi(e,t){e.filter=Ht(e.filter,t)}function ui(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return Ht(r(),t())}:t,e.justLimit=n&&!r}function El(e,t){e.isMatch=Ht(e.isMatch,t)}function vr(e,t){if(e.isPrimKey)return t.primaryKey;var n=t.getIndexByKeyPath(e.index);if(!n)throw new F.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function ts(e,t,n){var r=vr(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:r,range:e.range}})}function rr(e,t,n,r){var i=e.replayFilter?Ht(e.filter,e.replayFilter()):e.filter;if(e.or){var a={},s=function(o,u,l){if(!i||i(u,l,function(h){return u.stop(h)},function(h){return u.fail(h)})){var c=u.primaryKey,f=""+c;f==="[object ArrayBuffer]"&&(f=""+new Uint8Array(c)),Re(a,f)||(a[f]=!0,t(o,u,l))}};return Promise.all([e.or._iterate(s,n),ns(ts(e,r,n),e.algorithm,s,!e.keysOnly&&e.valueMapper)])}else return ns(ts(e,r,n),Ht(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function ns(e,t,n,r){var i=r?function(s,o,u){return n(r(s),o,u)}:n,a=ae(i);return e.then(function(s){if(s)return s.start(function(){var o=function(){return s.continue()};(!t||t(s,function(u){return o=u},function(u){s.stop(u),o=ee},function(u){s.fail(u),o=ee}))&&a(s.value,s,function(u){return o=u}),o()})})}function we(e,t){try{var n=rs(e),r=rs(t);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return xl(is(e),is(t));case"Array":return Cl(e,t)}}catch{}return NaN}function Cl(e,t){for(var n=e.length,r=t.length,i=n<r?n:r,a=0;a<i;++a){var s=we(e[a],t[a]);if(s!==0)return s}return n===r?0:n<r?-1:1}function xl(e,t){for(var n=e.length,r=t.length,i=n<r?n:r,a=0;a<i;++a)if(e[a]!==t[a])return e[a]<t[a]?-1:1;return n===r?0:n<r?-1:1}function rs(e){var t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";var n=bi(e);return n==="ArrayBuffer"?"binary":n}function is(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}var Al=function(){function e(){}return e.prototype._read=function(t,n){var r=this._ctx;return r.error?r.table._trans(null,he.bind(null,r.error)):r.table._trans("readonly",t).then(n)},e.prototype._write=function(t){var n=this._ctx;return n.error?n.table._trans(null,he.bind(null,n.error)):n.table._trans("readwrite",t,"locked")},e.prototype._addAlgorithm=function(t){var n=this._ctx;n.algorithm=Ht(n.algorithm,t)},e.prototype._iterate=function(t,n){return rr(this._ctx,t,n,this._ctx.table.core)},e.prototype.clone=function(t){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return t&&ke(r,t),n._ctx=r,n},e.prototype.raw=function(){return this._ctx.valueMapper=null,this},e.prototype.each=function(t){var n=this._ctx;return this._read(function(r){return rr(n,t,r,n.table.core)})},e.prototype.count=function(t){var n=this;return this._read(function(r){var i=n._ctx,a=i.table.core;if(Xt(i,!0))return a.count({trans:r,query:{index:vr(i,a.schema),range:i.range}}).then(function(o){return Math.min(o,i.limit)});var s=0;return rr(i,function(){return++s,!1},r,a).then(function(){return s})}).then(t)},e.prototype.sortBy=function(t,n){var r=t.split(".").reverse(),i=r[0],a=r.length-1;function s(l,c){return c?s(l[r[c]],c-1):l[i]}var o=this._ctx.dir==="next"?1:-1;function u(l,c){var f=s(l,a),h=s(c,a);return f<h?-o:f>h?o:0}return this.toArray(function(l){return l.sort(u)}).then(n)},e.prototype.toArray=function(t){var n=this;return this._read(function(r){var i=n._ctx;if(i.dir==="next"&&Xt(i,!0)&&i.limit>0){var a=i.valueMapper,s=vr(i,i.table.core.schema);return i.table.core.query({trans:r,limit:i.limit,values:!0,query:{index:s,range:i.range}}).then(function(u){var l=u.result;return a?l.map(a):l})}else{var o=[];return rr(i,function(u){return o.push(u)},r,i.table.core).then(function(){return o})}},t)},e.prototype.offset=function(t){var n=this._ctx;return t<=0?this:(n.offset+=t,Xt(n)?ui(n,function(){var r=t;return function(i,a){return r===0?!0:r===1?(--r,!1):(a(function(){i.advance(r),r=0}),!1)}}):ui(n,function(){var r=t;return function(){return--r<0}}),this)},e.prototype.limit=function(t){return this._ctx.limit=Math.min(this._ctx.limit,t),ui(this._ctx,function(){var n=t;return function(r,i,a){return--n<=0&&i(a),n>=0}},!0),this},e.prototype.until=function(t,n){return oi(this._ctx,function(r,i,a){return t(r.value)?(i(a),n):!0}),this},e.prototype.first=function(t){return this.limit(1).toArray(function(n){return n[0]}).then(t)},e.prototype.last=function(t){return this.reverse().first(t)},e.prototype.filter=function(t){return oi(this._ctx,function(n){return t(n.value)}),El(this._ctx,t),this},e.prototype.and=function(t){return this.filter(t)},e.prototype.or=function(t){return new this.db.WhereClause(this._ctx.table,t,this)},e.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},e.prototype.desc=function(){return this.reverse()},e.prototype.eachKey=function(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){t(i.key,i)})},e.prototype.eachUniqueKey=function(t){return this._ctx.unique="unique",this.eachKey(t)},e.prototype.eachPrimaryKey=function(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){t(i.primaryKey,i)})},e.prototype.keys=function(t){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,a){r.push(a.key)}).then(function(){return r}).then(t)},e.prototype.primaryKeys=function(t){var n=this._ctx;if(n.dir==="next"&&Xt(n,!0)&&n.limit>0)return this._read(function(i){var a=vr(n,n.table.core.schema);return n.table.core.query({trans:i,values:!1,limit:n.limit,query:{index:a,range:n.range}})}).then(function(i){var a=i.result;return a}).then(t);n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,a){r.push(a.primaryKey)}).then(function(){return r}).then(t)},e.prototype.uniqueKeys=function(t){return this._ctx.unique="unique",this.keys(t)},e.prototype.firstKey=function(t){return this.limit(1).keys(function(n){return n[0]}).then(t)},e.prototype.lastKey=function(t){return this.reverse().firstKey(t)},e.prototype.distinct=function(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var r={};return oi(this._ctx,function(i){var a=i.primaryKey.toString(),s=Re(r,a);return r[a]=!0,!s}),this},e.prototype.modify=function(t){var n=this,r=this._ctx;return this._write(function(i){var a;if(typeof t=="function")a=t;else{var s=le(t),o=s.length;a=function(g){for(var b=!1,k=0;k<o;++k){var w=s[k],_=t[w];pt(g,w)!==_&&(He(g,w,_),b=!0)}return b}}var u=r.table.core,l=u.schema.primaryKey,c=l.outbound,f=l.extractKey,h=n.db._options.modifyChunkSize||200,p=[],d=0,m=[],v=function(g,b){var k=b.failures,w=b.numFailures;d+=g-w;for(var _=0,y=le(k);_<y.length;_++){var T=y[_];p.push(k[T])}};return n.clone().primaryKeys().then(function(g){var b=function(k){var w=Math.min(h,g.length-k);return u.getMany({trans:i,keys:g.slice(k,k+w),cache:"immutable"}).then(function(_){for(var y=[],T=[],S=c?[]:null,A=[],W=0;W<w;++W){var Z=_[W],Q={value:jn(Z),primKey:g[k+W]};a.call(Q,Q.value,Q)!==!1&&(Q.value==null?A.push(g[k+W]):!c&&we(f(Z),f(Q.value))!==0?(A.push(g[k+W]),y.push(Q.value)):(T.push(Q.value),c&&S.push(g[k+W])))}var z=Xt(r)&&r.limit===1/0&&(typeof t!="function"||t===li)&&{index:r.index,range:r.range};return Promise.resolve(y.length>0&&u.mutate({trans:i,type:"add",values:y}).then(function(pe){for(var K in pe.failures)A.splice(parseInt(K),1);v(y.length,pe)})).then(function(){return(T.length>0||z&&typeof t=="object")&&u.mutate({trans:i,type:"put",keys:S,values:T,criteria:z,changeSpec:typeof t!="function"&&t}).then(function(pe){return v(T.length,pe)})}).then(function(){return(A.length>0||z&&t===li)&&u.mutate({trans:i,type:"delete",keys:A,criteria:z}).then(function(pe){return v(A.length,pe)})}).then(function(){return g.length>k+w&&b(k+h)})})};return b(0).then(function(){if(p.length>0)throw new Sr("Error modifying one or more objects",p,d,m);return g.length})})})},e.prototype.delete=function(){var t=this._ctx,n=t.range;return Xt(t)&&(t.isPrimKey&&!Tl||n.type===3)?this._write(function(r){var i=t.table.core.schema.primaryKey,a=n;return t.table.core.count({trans:r,query:{index:i,range:a}}).then(function(s){return t.table.core.mutate({trans:r,type:"deleteRange",range:a}).then(function(o){var u=o.failures;o.lastResult,o.results;var l=o.numFailures;if(l)throw new Sr("Could not delete some values",Object.keys(u).map(function(c){return u[c]}),s-l);return s-l})})}):this.modify(li)},e}(),li=function(e,t){return t.value=null};function Pl(e){return Gn(Al.prototype,function(n,r){this.db=e;var i=co,a=null;if(r)try{i=r()}catch(l){a=l}var s=n._ctx,o=s.table,u=o.hook.reading.fire;this._ctx={table:o,index:s.index,isPrimKey:!s.index||o.schema.primKey.keyPath&&s.index===o.schema.primKey.name,range:i,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:a,or:s.or,valueMapper:u!==Bn?u:null}})}function Rl(e,t){return e<t?-1:e===t?0:1}function Yl(e,t){return e>t?-1:e===t?0:1}function Ce(e,t,n){var r=e instanceof ho?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function Qt(e){return new e.Collection(e,function(){return fo("")}).limit(0)}function Il(e){return e==="next"?function(t){return t.toUpperCase()}:function(t){return t.toLowerCase()}}function Fl(e){return e==="next"?function(t){return t.toLowerCase()}:function(t){return t.toUpperCase()}}function Nl(e,t,n,r,i,a){for(var s=Math.min(e.length,r.length),o=-1,u=0;u<s;++u){var l=t[u];if(l!==r[u])return i(e[u],n[u])<0?e.substr(0,u)+n[u]+n.substr(u+1):i(e[u],r[u])<0?e.substr(0,u)+r[u]+n.substr(u+1):o>=0?e.substr(0,o)+t[o]+n.substr(o+1):null;i(e[u],l)<0&&(o=u)}return s<r.length&&a==="next"?e+n.substr(e.length):s<e.length&&a==="prev"?e.substr(0,n.length):o<0?null:e.substr(0,o)+r[o]+n.substr(o+1)}function ir(e,t,n,r){var i,a,s,o,u,l,c,f=n.length;if(!n.every(function(m){return typeof m=="string"}))return Ce(e,uo);function h(m){i=Il(m),a=Fl(m),s=m==="next"?Rl:Yl;var v=n.map(function(g){return{lower:a(g),upper:i(g)}}).sort(function(g,b){return s(g.lower,b.lower)});o=v.map(function(g){return g.upper}),u=v.map(function(g){return g.lower}),l=m,c=m==="next"?"":r}h("next");var p=new e.Collection(e,function(){return St(o[0],u[f-1]+r)});p._ondirectionchange=function(m){h(m)};var d=0;return p._addAlgorithm(function(m,v,g){var b=m.key;if(typeof b!="string")return!1;var k=a(b);if(t(k,u,d))return!0;for(var w=null,_=d;_<f;++_){var y=Nl(b,k,o[_],u[_],s,l);y===null&&w===null?d=_+1:(w===null||s(w,y)>0)&&(w=y)}return v(w!==null?function(){m.continue(w+c)}:g),!1}),p}function St(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function fo(e){return{type:1,lower:e,upper:e}}var ho=function(){function e(){}return Object.defineProperty(e.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),e.prototype.between=function(t,n,r,i){r=r!==!1,i=i===!0;try{return this._cmp(t,n)>0||this._cmp(t,n)===0&&(r||i)&&!(r&&i)?Qt(this):new this.Collection(this,function(){return St(t,n,!r,!i)})}catch{return Ce(this,it)}},e.prototype.equals=function(t){return t==null?Ce(this,it):new this.Collection(this,function(){return fo(t)})},e.prototype.above=function(t){return t==null?Ce(this,it):new this.Collection(this,function(){return St(t,void 0,!0)})},e.prototype.aboveOrEqual=function(t){return t==null?Ce(this,it):new this.Collection(this,function(){return St(t,void 0,!1)})},e.prototype.below=function(t){return t==null?Ce(this,it):new this.Collection(this,function(){return St(void 0,t,!1,!0)})},e.prototype.belowOrEqual=function(t){return t==null?Ce(this,it):new this.Collection(this,function(){return St(void 0,t)})},e.prototype.startsWith=function(t){return typeof t!="string"?Ce(this,uo):this.between(t,t+Lt,!0,!0)},e.prototype.startsWithIgnoreCase=function(t){return t===""?this.startsWith(t):ir(this,function(n,r){return n.indexOf(r[0])===0},[t],Lt)},e.prototype.equalsIgnoreCase=function(t){return ir(this,function(n,r){return n===r[0]},[t],"")},e.prototype.anyOfIgnoreCase=function(){var t=ut.apply(en,arguments);return t.length===0?Qt(this):ir(this,function(n,r){return r.indexOf(n)!==-1},t,"")},e.prototype.startsWithAnyOfIgnoreCase=function(){var t=ut.apply(en,arguments);return t.length===0?Qt(this):ir(this,function(n,r){return r.some(function(i){return n.indexOf(i)===0})},t,Lt)},e.prototype.anyOf=function(){var t=this,n=ut.apply(en,arguments),r=this._cmp;try{n.sort(r)}catch{return Ce(this,it)}if(n.length===0)return Qt(this);var i=new this.Collection(this,function(){return St(n[0],n[n.length-1])});i._ondirectionchange=function(s){r=s==="next"?t._ascending:t._descending,n.sort(r)};var a=0;return i._addAlgorithm(function(s,o,u){for(var l=s.key;r(l,n[a])>0;)if(++a,a===n.length)return o(u),!1;return r(l,n[a])===0?!0:(o(function(){s.continue(n[a])}),!1)}),i},e.prototype.notEqual=function(t){return this.inAnyRange([[Ri,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},e.prototype.noneOf=function(){var t=ut.apply(en,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return Ce(this,it)}var n=t.reduce(function(r,i){return r?r.concat([[r[r.length-1][1],i]]):[[Ri,i]]},null);return n.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})},e.prototype.inAnyRange=function(t,n){var r=this,i=this._cmp,a=this._ascending,s=this._descending,o=this._min,u=this._max;if(t.length===0)return Qt(this);if(!t.every(function(_){return _[0]!==void 0&&_[1]!==void 0&&a(_[0],_[1])<=0}))return Ce(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",F.InvalidArgument);var l=!n||n.includeLowers!==!1,c=n&&n.includeUppers===!0;function f(_,y){for(var T=0,S=_.length;T<S;++T){var A=_[T];if(i(y[0],A[1])<0&&i(y[1],A[0])>0){A[0]=o(A[0],y[0]),A[1]=u(A[1],y[1]);break}}return T===S&&_.push(y),_}var h=a;function p(_,y){return h(_[0],y[0])}var d;try{d=t.reduce(f,[]),d.sort(p)}catch{return Ce(this,it)}var m=0,v=c?function(_){return a(_,d[m][1])>0}:function(_){return a(_,d[m][1])>=0},g=l?function(_){return s(_,d[m][0])>0}:function(_){return s(_,d[m][0])>=0};function b(_){return!v(_)&&!g(_)}var k=v,w=new this.Collection(this,function(){return St(d[0][0],d[d.length-1][1],!l,!c)});return w._ondirectionchange=function(_){_==="next"?(k=v,h=a):(k=g,h=s),d.sort(p)},w._addAlgorithm(function(_,y,T){for(var S=_.key;k(S);)if(++m,m===d.length)return y(T),!1;return b(S)?!0:(r._cmp(S,d[m][1])===0||r._cmp(S,d[m][0])===0||y(function(){h===a?_.continue(d[m][0]):_.continue(d[m][1])}),!1)}),w},e.prototype.startsWithAnyOf=function(){var t=ut.apply(en,arguments);return t.every(function(n){return typeof n=="string"})?t.length===0?Qt(this):this.inAnyRange(t.map(function(n){return[n,n+Lt]})):Ce(this,"startsWithAnyOf() only works with strings")},e}();function Ll(e){return Gn(ho.prototype,function(n,r,i){this.db=e,this._ctx={table:n,index:r===":id"?null:r,or:i};var a=e._deps.indexedDB;if(!a)throw new F.MissingAPI;this._cmp=this._ascending=a.cmp.bind(a),this._descending=function(s,o){return a.cmp(o,s)},this._max=function(s,o){return a.cmp(s,o)>0?s:o},this._min=function(s,o){return a.cmp(s,o)<0?s:o},this._IDBKeyRange=e._deps.IDBKeyRange})}function Qe(e){return ae(function(t){return Yn(t),e(t.target.error),!1})}function Yn(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var In="storagemutated",Tt="x-storagemutated-1",Rt=Vn(null,In),Wl=function(){function e(){}return e.prototype._lock=function(){return Sn(!I.global),++this._reculock,this._reculock===1&&!I.global&&(I.lockOwnerFor=this),this},e.prototype._unlock=function(){if(Sn(!I.global),--this._reculock===0)for(I.global||(I.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{pn(t[1],t[0])}catch{}}return this},e.prototype._locked=function(){return this._reculock&&I.lockOwnerFor!==this},e.prototype.create=function(t){var n=this;if(!this.mode)return this;var r=this.db.idbdb,i=this.db._state.dbOpenError;if(Sn(!this.idbtrans),!t&&!r)switch(i&&i.name){case"DatabaseClosedError":throw new F.DatabaseClosed(i);case"MissingAPIError":throw new F.MissingAPI(i.message,i);default:throw new F.OpenFailed(i)}if(!this.active)throw new F.TransactionInactive;return Sn(this._completion._state===null),t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):r.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),t.onerror=ae(function(a){Yn(a),n._reject(t.error)}),t.onabort=ae(function(a){Yn(a),n.active&&n._reject(new F.Abort(t.error)),n.active=!1,n.on("abort").fire(a)}),t.oncomplete=ae(function(){n.active=!1,n._resolve(),"mutatedParts"in t&&Rt.storagemutated.fire(t.mutatedParts)}),this},e.prototype._promise=function(t,n,r){var i=this;if(t==="readwrite"&&this.mode!=="readwrite")return he(new F.ReadOnly("Transaction is readonly"));if(!this.active)return he(new F.TransactionInactive);if(this._locked())return new x(function(s,o){i._blockedFuncs.push([function(){i._promise(t,n,r).then(s,o)},I])});if(r)return At(function(){var s=new x(function(o,u){i._lock();var l=n(o,u,i);l&&l.then&&l.then(o,u)});return s.finally(function(){return i._unlock()}),s._lib=!0,s});var a=new x(function(s,o){var u=n(s,o,i);u&&u.then&&u.then(s,o)});return a._lib=!0,a},e.prototype._root=function(){return this.parent?this.parent._root():this},e.prototype.waitFor=function(t){var n=this._root(),r=x.resolve(t);if(n._waitingFor)n._waitingFor=n._waitingFor.then(function(){return r});else{n._waitingFor=r,n._waitingQueue=[];var i=n.idbtrans.objectStore(n.storeNames[0]);(function s(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(i.get(-1/0).onsuccess=s)})()}var a=n._waitingFor;return new x(function(s,o){r.then(function(u){return n._waitingQueue.push(ae(s.bind(null,u)))},function(u){return n._waitingQueue.push(ae(o.bind(null,u)))}).finally(function(){n._waitingFor===a&&(n._waitingFor=null)})})},e.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new F.Abort))},e.prototype.table=function(t){var n=this._memoizedTables||(this._memoizedTables={});if(Re(n,t))return n[t];var r=this.schema[t];if(!r)throw new F.NotFound("Table "+t+" not part of transaction");var i=new this.db.Table(t,r,this);return i.core=this.db.core.table(t),n[t]=i,i},e}();function Kl(e){return Gn(Wl.prototype,function(n,r,i,a,s){var o=this;this.db=e,this.mode=n,this.storeNames=r,this.schema=i,this.chromeTransactionDurability=a,this.idbtrans=null,this.on=Vn(this,"complete","error","abort"),this.parent=s||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new x(function(u,l){o._resolve=u,o._reject=l}),this._completion.then(function(){o.active=!1,o.on.complete.fire()},function(u){var l=o.active;return o.active=!1,o.on.error.fire(u),o.parent?o.parent._reject(u):l&&o.idbtrans&&o.idbtrans.abort(),he(u)})})}function Yi(e,t,n,r,i,a,s){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:a,src:(n&&!s?"&":"")+(r?"*":"")+(i?"++":"")+po(t)}}function po(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function mo(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:Hs(n,function(r){return[r.name,r]})}}function $l(e){return e.length===1?e[0]:e}var Fn=function(e){try{return e.only([[]]),Fn=function(){return[[]]},[[]]}catch{return Fn=function(){return Lt},Lt}};function Ii(e){return e==null?function(){}:typeof e=="string"?jl(e):function(t){return pt(t,e)}}function jl(e){var t=e.split(".");return t.length===1?function(n){return n[e]}:function(n){return pt(n,e)}}function as(e){return[].slice.call(e)}var Bl=0;function Mn(e){return e==null?":id":typeof e=="string"?e:"["+e.join("+")+"]"}function Ul(e,t,n){function r(f,h){var p=as(f.objectStoreNames);return{schema:{name:f.name,tables:p.map(function(d){return h.objectStore(d)}).map(function(d){var m=d.keyPath,v=d.autoIncrement,g=ye(m),b=m==null,k={},w={name:d.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:b,compound:g,keyPath:m,autoIncrement:v,unique:!0,extractKey:Ii(m)},indexes:as(d.indexNames).map(function(_){return d.index(_)}).map(function(_){var y=_.name,T=_.unique,S=_.multiEntry,A=_.keyPath,W=ye(A),Z={name:y,compound:W,keyPath:A,unique:T,multiEntry:S,extractKey:Ii(A)};return k[Mn(A)]=Z,Z}),getIndexByKeyPath:function(_){return k[Mn(_)]}};return k[":id"]=w.primaryKey,m!=null&&(k[Mn(m)]=w.primaryKey),w})},hasGetAll:p.length>0&&"getAll"in h.objectStore(p[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function i(f){if(f.type===3)return null;if(f.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var h=f.lower,p=f.upper,d=f.lowerOpen,m=f.upperOpen,v=h===void 0?p===void 0?null:t.upperBound(p,!!m):p===void 0?t.lowerBound(h,!!d):t.bound(h,p,!!d,!!m);return v}function a(f){var h=f.name;function p(v){var g=v.trans,b=v.type,k=v.keys,w=v.values,_=v.range;return new Promise(function(y,T){y=ae(y);var S=g.objectStore(h),A=S.keyPath==null,W=b==="put"||b==="add";if(!W&&b!=="delete"&&b!=="deleteRange")throw new Error("Invalid operation type: "+b);var Z=(k||w||{length:1}).length;if(k&&w&&k.length!==w.length)throw new Error("Given keys array must have same length as given values array.");if(Z===0)return y({numFailures:0,failures:{},results:[],lastResult:void 0});var Q,z=[],pe=[],K=0,Ie=function(Xe){++K,Yn(Xe)};if(b==="deleteRange"){if(_.type===4)return y({numFailures:K,failures:pe,results:[],lastResult:void 0});_.type===3?z.push(Q=S.clear()):z.push(Q=S.delete(i(_)))}else{var $e=W?A?[w,k]:[w,null]:[k,null],bt=$e[0],qe=$e[1];if(W)for(var Fe=0;Fe<Z;++Fe)z.push(Q=qe&&qe[Fe]!==void 0?S[b](bt[Fe],qe[Fe]):S[b](bt[Fe])),Q.onerror=Ie;else for(var Fe=0;Fe<Z;++Fe)z.push(Q=S[b](bt[Fe])),Q.onerror=Ie}var kt=function(Xe){var vn=Xe.target.result;z.forEach(function(je,Qn){return je.error!=null&&(pe[Qn]=je.error)}),y({numFailures:K,failures:pe,results:b==="delete"?k:z.map(function(je){return je.result}),lastResult:vn})};Q.onerror=function(Xe){Ie(Xe),kt(Xe)},Q.onsuccess=kt})}function d(v){var g=v.trans,b=v.values,k=v.query,w=v.reverse,_=v.unique;return new Promise(function(y,T){y=ae(y);var S=k.index,A=k.range,W=g.objectStore(h),Z=S.isPrimaryKey?W:W.index(S.name),Q=w?_?"prevunique":"prev":_?"nextunique":"next",z=b||!("openKeyCursor"in Z)?Z.openCursor(i(A),Q):Z.openKeyCursor(i(A),Q);z.onerror=Qe(T),z.onsuccess=ae(function(pe){var K=z.result;if(!K){y(null);return}K.___id=++Bl,K.done=!1;var Ie=K.continue.bind(K),$e=K.continuePrimaryKey;$e&&($e=$e.bind(K));var bt=K.advance.bind(K),qe=function(){throw new Error("Cursor not started")},Fe=function(){throw new Error("Cursor not stopped")};K.trans=g,K.stop=K.continue=K.continuePrimaryKey=K.advance=qe,K.fail=ae(T),K.next=function(){var kt=this,Xe=1;return this.start(function(){return Xe--?kt.continue():kt.stop()}).then(function(){return kt})},K.start=function(kt){var Xe=new Promise(function(je,Qn){je=ae(je),z.onerror=Qe(Qn),K.fail=Qn,K.stop=function(gu){K.stop=K.continue=K.continuePrimaryKey=K.advance=Fe,je(gu)}}),vn=function(){if(z.result)try{kt()}catch(je){K.fail(je)}else K.done=!0,K.start=function(){throw new Error("Cursor behind last entry")},K.stop()};return z.onsuccess=ae(function(je){z.onsuccess=vn,vn()}),K.continue=Ie,K.continuePrimaryKey=$e,K.advance=bt,vn(),Xe},y(K)},T)})}function m(v){return function(g){return new Promise(function(b,k){b=ae(b);var w=g.trans,_=g.values,y=g.limit,T=g.query,S=y===1/0?void 0:y,A=T.index,W=T.range,Z=w.objectStore(h),Q=A.isPrimaryKey?Z:Z.index(A.name),z=i(W);if(y===0)return b({result:[]});if(v){var pe=_?Q.getAll(z,S):Q.getAllKeys(z,S);pe.onsuccess=function(bt){return b({result:bt.target.result})},pe.onerror=Qe(k)}else{var K=0,Ie=_||!("openKeyCursor"in Q)?Q.openCursor(z):Q.openKeyCursor(z),$e=[];Ie.onsuccess=function(bt){var qe=Ie.result;if(!qe)return b({result:$e});if($e.push(_?qe.value:qe.primaryKey),++K===y)return b({result:$e});qe.continue()},Ie.onerror=Qe(k)}})}}return{name:h,schema:f,mutate:p,getMany:function(v){var g=v.trans,b=v.keys;return new Promise(function(k,w){k=ae(k);for(var _=g.objectStore(h),y=b.length,T=new Array(y),S=0,A=0,W,Z=function(K){var Ie=K.target;(T[Ie._pos]=Ie.result)!=null,++A===S&&k(T)},Q=Qe(w),z=0;z<y;++z){var pe=b[z];pe!=null&&(W=_.get(b[z]),W._pos=z,W.onsuccess=Z,W.onerror=Q,++S)}S===0&&k(T)})},get:function(v){var g=v.trans,b=v.key;return new Promise(function(k,w){k=ae(k);var _=g.objectStore(h),y=_.get(b);y.onsuccess=function(T){return k(T.target.result)},y.onerror=Qe(w)})},query:m(u),openCursor:d,count:function(v){var g=v.query,b=v.trans,k=g.index,w=g.range;return new Promise(function(_,y){var T=b.objectStore(h),S=k.isPrimaryKey?T:T.index(k.name),A=i(w),W=A?S.count(A):S.count();W.onsuccess=ae(function(Z){return _(Z.target.result)}),W.onerror=Qe(y)})}}}var s=r(e,n),o=s.schema,u=s.hasGetAll,l=o.tables.map(function(f){return a(f)}),c={};return l.forEach(function(f){return c[f.name]=f}),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(f){var h=c[f];if(!h)throw new Error("Table '"+f+"' not found");return c[f]},MIN_KEY:-1/0,MAX_KEY:Fn(t),schema:o}}function Hl(e,t){return t.reduce(function(n,r){var i=r.create;return B(B({},n),i(n))},e)}function Vl(e,t,n,r){var i=n.IDBKeyRange;n.indexedDB;var a=Hl(Ul(t,i,r),e.dbcore);return{dbcore:a}}function pa(e,t){var n=e._novip,r=t.db,i=Vl(n._middlewares,r,n._deps,t);n.core=i.dbcore,n.tables.forEach(function(a){var s=a.name;n.core.schema.tables.some(function(o){return o.name===s})&&(a.core=n.core.table(s),n[s]instanceof n.Table&&(n[s].core=a.core))})}function Cr(e,t,n,r){var i=e._novip;n.forEach(function(a){var s=r[a];t.forEach(function(o){var u=aa(o,a);(!u||"value"in u&&u.value===void 0)&&(o===i.Transaction.prototype||o instanceof i.Transaction?yt(o,a,{get:function(){return this.table(a)},set:function(l){js(this,a,{value:l,writable:!0,configurable:!0,enumerable:!0})}}):o[a]=new i.Table(a,s))})})}function Fi(e,t){var n=e._novip;t.forEach(function(r){for(var i in r)r[i]instanceof n.Table&&delete r[i]})}function Gl(e,t){return e._cfg.version-t._cfg.version}function zl(e,t,n,r){var i=e._dbSchema,a=e._createTransaction("readwrite",e._storeNames,i);a.create(n),a._completion.catch(r);var s=a._reject.bind(a),o=I.transless||I;At(function(){I.trans=a,I.transless=o,t===0?(le(i).forEach(function(u){ma(n,u,i[u].primKey,i[u].indexes)}),pa(e,n),x.follow(function(){return e.on.populate.fire(a)}).catch(s)):Zl(e,t,a,n).catch(s)})}function Zl(e,t,n,r){var i=e._novip,a=[],s=i._versions,o=i._dbSchema=ya(i,i.idbdb,r),u=!1,l=s.filter(function(f){return f._cfg.version>=t});l.forEach(function(f){a.push(function(){var h=o,p=f._cfg.dbschema;Li(i,h,r),Li(i,p,r),o=i._dbSchema=p;var d=yo(h,p);d.add.forEach(function(w){ma(r,w[0],w[1].primKey,w[1].indexes)}),d.change.forEach(function(w){if(w.recreate)throw new F.Upgrade("Not yet support for changing primary key");var _=r.objectStore(w.name);w.add.forEach(function(y){return Ni(_,y)}),w.change.forEach(function(y){_.deleteIndex(y.name),Ni(_,y)}),w.del.forEach(function(y){return _.deleteIndex(y)})});var m=f._cfg.contentUpgrade;if(m&&f._cfg.version>t){pa(i,r),n._memoizedTables={},u=!0;var v=Vs(p);d.del.forEach(function(w){v[w]=h[w]}),Fi(i,[i.Transaction.prototype]),Cr(i,[i.Transaction.prototype],le(v),v),n.schema=v;var g=sa(m);g&&dn();var b,k=x.follow(function(){if(b=m(n),b&&g){var w=vt.bind(null,null);b.then(w,w)}});return b&&typeof b.then=="function"?x.resolve(b):k.then(function(){return b})}}),a.push(function(h){if(!u||!Dl){var p=f._cfg.dbschema;Xl(p,h)}Fi(i,[i.Transaction.prototype]),Cr(i,[i.Transaction.prototype],i._storeNames,i._dbSchema),n.schema=i._dbSchema})});function c(){return a.length?x.resolve(a.shift()(n.idbtrans)).then(c):x.resolve()}return c().then(function(){ql(o,r)})}function yo(e,t){var n={del:[],add:[],change:[]},r;for(r in e)t[r]||n.del.push(r);for(r in t){var i=e[r],a=t[r];if(!i)n.add.push([r,a]);else{var s={name:r,def:a,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(a.primKey.keyPath||"")||i.primKey.auto!==a.primKey.auto&&!Br)s.recreate=!0,n.change.push(s);else{var o=i.idxByName,u=a.idxByName,l=void 0;for(l in o)u[l]||s.del.push(l);for(l in u){var c=o[l],f=u[l];c?c.src!==f.src&&s.change.push(f):s.add.push(f)}(s.del.length>0||s.add.length>0||s.change.length>0)&&n.change.push(s)}}}return n}function ma(e,t,n,r){var i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(function(a){return Ni(i,a)}),i}function ql(e,t){le(e).forEach(function(n){t.db.objectStoreNames.contains(n)||ma(t,n,e[n].primKey,e[n].indexes)})}function Xl(e,t){[].slice.call(t.db.objectStoreNames).forEach(function(n){return e[n]==null&&t.db.deleteObjectStore(n)})}function Ni(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function ya(e,t,n){var r={},i=$r(t.objectStoreNames,0);return i.forEach(function(a){for(var s=n.objectStore(a),o=s.keyPath,u=Yi(po(o),o||"",!1,!1,!!s.autoIncrement,o&&typeof o!="string",!0),l=[],c=0;c<s.indexNames.length;++c){var f=s.index(s.indexNames[c]);o=f.keyPath;var h=Yi(f.name,o,!!f.unique,!!f.multiEntry,!1,o&&typeof o!="string",!1);l.push(h)}r[a]=mo(a,u,l)}),r}function Ql(e,t,n){var r=e._novip;r.verno=t.version/10;var i=r._dbSchema=ya(r,t,n);r._storeNames=$r(t.objectStoreNames,0),Cr(r,[r._allTables],le(i),i)}function Jl(e,t){var n=ya(e,e.idbdb,t),r=yo(n,e._dbSchema);return!(r.add.length||r.change.some(function(i){return i.add.length||i.change.length}))}function Li(e,t,n){for(var r=e._novip,i=n.db.objectStoreNames,a=0;a<i.length;++a){var s=i[a],o=n.objectStore(s);r._hasGetAll="getAll"in o;for(var u=0;u<o.indexNames.length;++u){var l=o.indexNames[u],c=o.index(l).keyPath,f=typeof c=="string"?c:"["+$r(c).join("+")+"]";if(t[s]){var h=t[s].idxByName[f];h&&(h.name=l,delete t[s].idxByName[f],t[s].idxByName[l]=h)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&te.WorkerGlobalScope&&te instanceof te.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(r._hasGetAll=!1)}function ec(e){return e.split(",").map(function(t,n){t=t.trim();var r=t.replace(/([&*]|\+\+)/g,""),i=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return Yi(r,i||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),ye(i),n===0)})}var tc=function(){function e(){}return e.prototype._parseStoresSpec=function(t,n){le(t).forEach(function(r){if(t[r]!==null){var i=ec(t[r]),a=i.shift();if(a.multi)throw new F.Schema("Primary key cannot be multi-valued");i.forEach(function(s){if(s.auto)throw new F.Schema("Only primary key can be marked as autoIncrement (++)");if(!s.keyPath)throw new F.Schema("Index must have a name and cannot be an empty string")}),n[r]=mo(r,a,i)}})},e.prototype.stores=function(t){var n=this.db;this._cfg.storesSource=this._cfg.storesSource?ke(this._cfg.storesSource,t):t;var r=n._versions,i={},a={};return r.forEach(function(s){ke(i,s._cfg.storesSource),a=s._cfg.dbschema={},s._parseStoresSpec(i,a)}),n._dbSchema=a,Fi(n,[n._allTables,n,n.Transaction.prototype]),Cr(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],le(a),a),n._storeNames=le(a),this},e.prototype.upgrade=function(t){return this._cfg.contentUpgrade=la(this._cfg.contentUpgrade||ee,t),this},e}();function nc(e){return Gn(tc.prototype,function(n){this.db=e,this._cfg={version:n,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function va(e,t){var n=e._dbNamesDB;return n||(n=e._dbNamesDB=new ba(Ur,{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function _a(e){return e&&typeof e.databases=="function"}function rc(e){var t=e.indexedDB,n=e.IDBKeyRange;return _a(t)?Promise.resolve(t.databases()).then(function(r){return r.map(function(i){return i.name}).filter(function(i){return i!==Ur})}):va(t,n).toCollection().primaryKeys()}function ic(e,t){var n=e.indexedDB,r=e.IDBKeyRange;!_a(n)&&t!==Ur&&va(n,r).put({name:t}).catch(ee)}function ac(e,t){var n=e.indexedDB,r=e.IDBKeyRange;!_a(n)&&t!==Ur&&va(n,r).delete(t).catch(ee)}function Wi(e){return At(function(){return I.letThrough=!0,e()})}function sc(){var e=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!e||!indexedDB.databases)return Promise.resolve();var t;return new Promise(function(n){var r=function(){return indexedDB.databases().finally(n)};t=setInterval(r,100),r()}).finally(function(){return clearInterval(t)})}function oc(e){var t=e._state,n=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(function(){return t.dbOpenError?he(t.dbOpenError):e});tt&&(t.openCanceller._stackHolder=zt()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var r=t.openCanceller;function i(){if(t.openCanceller!==r)throw new F.DatabaseClosed("db.open() was cancelled")}var a=t.dbReadyResolve,s=null,o=!1;return x.race([r,(typeof navigator>"u"?x.resolve():sc()).then(function(){return new x(function(u,l){if(i(),!n)throw new F.MissingAPI;var c=e.name,f=t.autoSchema?n.open(c):n.open(c,Math.round(e.verno*10));if(!f)throw new F.MissingAPI;f.onerror=Qe(l),f.onblocked=ae(e._fireOnBlocked),f.onupgradeneeded=ae(function(h){if(s=f.transaction,t.autoSchema&&!e._options.allowEmptyDB){f.onerror=Yn,s.abort(),f.result.close();var p=n.deleteDatabase(c);p.onsuccess=p.onerror=ae(function(){l(new F.NoSuchDatabase("Database "+c+" doesnt exist"))})}else{s.onerror=Qe(l);var d=h.oldVersion>Math.pow(2,62)?0:h.oldVersion;o=d<1,e._novip.idbdb=f.result,zl(e,d/10,s,l)}},l),f.onsuccess=ae(function(){s=null;var h=e._novip.idbdb=f.result,p=$r(h.objectStoreNames);if(p.length>0)try{var d=h.transaction($l(p),"readonly");t.autoSchema?Ql(e,h,d):(Li(e,e._dbSchema,d),Jl(e,d)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),pa(e,d)}catch{}On.push(e),h.onversionchange=ae(function(m){t.vcFired=!0,e.on("versionchange").fire(m)}),h.onclose=ae(function(m){e.on("close").fire(m)}),o&&ic(e._deps,c),u()},l)})})]).then(function(){return i(),t.onReadyBeingFired=[],x.resolve(Wi(function(){return e.on.ready.fire(e.vip)})).then(function u(){if(t.onReadyBeingFired.length>0){var l=t.onReadyBeingFired.reduce(la,ee);return t.onReadyBeingFired=[],x.resolve(Wi(function(){return l(e.vip)})).then(u)}})}).finally(function(){t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(function(){return e}).catch(function(u){t.dbOpenError=u;try{s&&s.abort()}catch{}return r===t.openCanceller&&e._close(),he(u)}).finally(function(){t.openComplete=!0,a()})}function Ki(e){var t=function(s){return e.next(s)},n=function(s){return e.throw(s)},r=a(t),i=a(n);function a(s){return function(o){var u=s(o),l=u.value;return u.done?l:!l||typeof l.then!="function"?ye(l)?Promise.all(l).then(r,i):r(l):l.then(r,i)}}return a(t)()}function uc(e,t,n){var r=arguments.length;if(r<2)throw new F.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];n=i.pop();var a=Gs(i);return[e,a,n]}function vo(e,t,n,r,i){return x.resolve().then(function(){var a=I.transless||I,s=e._createTransaction(t,n,e._dbSchema,r),o={trans:s,transless:a};if(r)s.idbtrans=r.idbtrans;else try{s.create(),e._state.PR1398_maxLoop=3}catch(f){return f.name===ua.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(function(){return vo(e,t,n,null,i)})):he(f)}var u=sa(i);u&&dn();var l,c=x.follow(function(){if(l=i.call(s,s),l)if(u){var f=vt.bind(null,null);l.then(f,f)}else typeof l.next=="function"&&typeof l.throw=="function"&&(l=Ki(l))},o);return(l&&typeof l.then=="function"?x.resolve(l).then(function(f){return s.active?f:he(new F.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):c.then(function(){return l})).then(function(f){return r&&s._resolve(),s._completion.then(function(){return f})}).catch(function(f){return s._reject(f),he(f)})})}function ar(e,t,n){for(var r=ye(e)?e.slice():[e],i=0;i<n;++i)r.push(t);return r}function lc(e){return B(B({},e),{table:function(t){var n=e.table(t),r=n.schema,i={},a=[];function s(m,v,g){var b=Mn(m),k=i[b]=i[b]||[],w=m==null?0:typeof m=="string"?1:m.length,_=v>0,y=B(B({},g),{isVirtual:_,keyTail:v,keyLength:w,extractKey:Ii(m),unique:!_&&g.unique});if(k.push(y),y.isPrimaryKey||a.push(y),w>1){var T=w===2?m[0]:m.slice(0,w-1);s(T,v+1,g)}return k.sort(function(S,A){return S.keyTail-A.keyTail}),y}var o=s(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[o];for(var u=0,l=r.indexes;u<l.length;u++){var c=l[u];s(c.keyPath,0,c)}function f(m){var v=i[Mn(m)];return v&&v[0]}function h(m,v){return{type:m.type===1?2:m.type,lower:ar(m.lower,m.lowerOpen?e.MAX_KEY:e.MIN_KEY,v),lowerOpen:!0,upper:ar(m.upper,m.upperOpen?e.MIN_KEY:e.MAX_KEY,v),upperOpen:!0}}function p(m){var v=m.query.index;return v.isVirtual?B(B({},m),{query:{index:v,range:h(m.query.range,v.keyTail)}}):m}var d=B(B({},n),{schema:B(B({},r),{primaryKey:o,indexes:a,getIndexByKeyPath:f}),count:function(m){return n.count(p(m))},query:function(m){return n.query(p(m))},openCursor:function(m){var v=m.query.index,g=v.keyTail,b=v.isVirtual,k=v.keyLength;if(!b)return n.openCursor(m);function w(_){function y(S){S!=null?_.continue(ar(S,m.reverse?e.MAX_KEY:e.MIN_KEY,g)):m.unique?_.continue(_.key.slice(0,k).concat(m.reverse?e.MIN_KEY:e.MAX_KEY,g)):_.continue()}var T=Object.create(_,{continue:{value:y},continuePrimaryKey:{value:function(S,A){_.continuePrimaryKey(ar(S,e.MAX_KEY,g),A)}},primaryKey:{get:function(){return _.primaryKey}},key:{get:function(){var S=_.key;return k===1?S[0]:S.slice(0,k)}},value:{get:function(){return _.value}}});return T}return n.openCursor(p(m)).then(function(_){return _&&w(_)})}});return d}})}var cc={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:lc};function ga(e,t,n,r){return n=n||{},r=r||"",le(e).forEach(function(i){if(!Re(t,i))n[r+i]=void 0;else{var a=e[i],s=t[i];if(typeof a=="object"&&typeof s=="object"&&a&&s){var o=bi(a),u=bi(s);o!==u?n[r+i]=t[i]:o==="Object"?ga(a,s,n,r+i+"."):a!==s&&(n[r+i]=t[i])}else a!==s&&(n[r+i]=t[i])}}),le(t).forEach(function(i){Re(e,i)||(n[r+i]=t[i])}),n}function fc(e,t){return t.type==="delete"?t.keys:t.keys||t.values.map(e.extractKey)}var hc={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return B(B({},e),{table:function(t){var n=e.table(t),r=n.schema.primaryKey,i=B(B({},n),{mutate:function(a){var s=I.trans,o=s.table(t).hook,u=o.deleting,l=o.creating,c=o.updating;switch(a.type){case"add":if(l.fire===ee)break;return s._promise("readwrite",function(){return f(a)},!0);case"put":if(l.fire===ee&&c.fire===ee)break;return s._promise("readwrite",function(){return f(a)},!0);case"delete":if(u.fire===ee)break;return s._promise("readwrite",function(){return f(a)},!0);case"deleteRange":if(u.fire===ee)break;return s._promise("readwrite",function(){return h(a)},!0)}return n.mutate(a);function f(d){var m=I.trans,v=d.keys||fc(r,d);if(!v)throw new Error("Keys missing");return d=d.type==="add"||d.type==="put"?B(B({},d),{keys:v}):B({},d),d.type!=="delete"&&(d.values=gi([],d.values,!0)),d.keys&&(d.keys=gi([],d.keys,!0)),dc(n,d,v).then(function(g){var b=v.map(function(k,w){var _=g[w],y={onerror:null,onsuccess:null};if(d.type==="delete")u.fire.call(y,k,_,m);else if(d.type==="add"||_===void 0){var T=l.fire.call(y,k,d.values[w],m);k==null&&T!=null&&(k=T,d.keys[w]=k,r.outbound||He(d.values[w],r.keyPath,k))}else{var S=ga(_,d.values[w]),A=c.fire.call(y,S,k,_,m);if(A){var W=d.values[w];Object.keys(A).forEach(function(Z){Re(W,Z)?W[Z]=A[Z]:He(W,Z,A[Z])})}}return y});return n.mutate(d).then(function(k){for(var w=k.failures,_=k.results,y=k.numFailures,T=k.lastResult,S=0;S<v.length;++S){var A=_?_[S]:v[S],W=b[S];A==null?W.onerror&&W.onerror(w[S]):W.onsuccess&&W.onsuccess(d.type==="put"&&g[S]?d.values[S]:A)}return{failures:w,results:_,numFailures:y,lastResult:T}}).catch(function(k){return b.forEach(function(w){return w.onerror&&w.onerror(k)}),Promise.reject(k)})})}function h(d){return p(d.trans,d.range,1e4)}function p(d,m,v){return n.query({trans:d,values:!1,query:{index:r,range:m},limit:v}).then(function(g){var b=g.result;return f({type:"delete",keys:b,trans:d}).then(function(k){return k.numFailures>0?Promise.reject(k.failures[0]):b.length<v?{failures:[],numFailures:0,lastResult:void 0}:p(d,B(B({},m),{lower:b[b.length-1],lowerOpen:!0}),v)})})}}});return i}})}};function dc(e,t,n){return t.type==="add"?Promise.resolve([]):e.getMany({trans:t.trans,keys:n,cache:"immutable"})}function _o(e,t,n){try{if(!t||t.keys.length<e.length)return null;for(var r=[],i=0,a=0;i<t.keys.length&&a<e.length;++i)we(t.keys[i],e[a])===0&&(r.push(n?jn(t.values[i]):t.values[i]),++a);return r.length===e.length?r:null}catch{return null}}var pc={stack:"dbcore",level:-1,create:function(e){return{table:function(t){var n=e.table(t);return B(B({},n),{getMany:function(r){if(!r.cache)return n.getMany(r);var i=_o(r.keys,r.trans._cache,r.cache==="clone");return i?x.resolve(i):n.getMany(r).then(function(a){return r.trans._cache={keys:r.keys,values:r.cache==="clone"?jn(a):a},a})},mutate:function(r){return r.type!=="add"&&(r.trans._cache=null),n.mutate(r)}})}}}},ci;function wa(e){return!("from"in e)}var ot=function(e,t){if(this)ke(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0});else{var n=new ot;return e&&"d"in e&&ke(n,e),n}};ln(ot.prototype,(ci={add:function(e){return xr(this,e),this},addKey:function(e){return Nn(this,e,e),this},addKeys:function(e){var t=this;return e.forEach(function(n){return Nn(t,n,n)}),this}},ci[ki]=function(){return $i(this)},ci));function Nn(e,t,n){var r=we(t,n);if(!isNaN(r)){if(r>0)throw RangeError();if(wa(e))return ke(e,{from:t,to:n,d:1});var i=e.l,a=e.r;if(we(n,e.from)<0)return i?Nn(i,t,n):e.l={from:t,to:n,d:1,l:null,r:null},ss(e);if(we(t,e.to)>0)return a?Nn(a,t,n):e.r={from:t,to:n,d:1,l:null,r:null},ss(e);we(t,e.from)<0&&(e.from=t,e.l=null,e.d=a?a.d+1:1),we(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);var s=!e.r;i&&!e.l&&xr(e,i),a&&s&&xr(e,a)}}function xr(e,t){function n(r,i){var a=i.from,s=i.to,o=i.l,u=i.r;Nn(r,a,s),o&&n(r,o),u&&n(r,u)}wa(t)||n(e,t)}function mc(e,t){var n=$i(t),r=n.next();if(r.done)return!1;for(var i=r.value,a=$i(e),s=a.next(i.from),o=s.value;!r.done&&!s.done;){if(we(o.from,i.to)<=0&&we(o.to,i.from)>=0)return!0;we(i.from,o.from)<0?i=(r=n.next(o.from)).value:o=(s=a.next(i.from)).value}return!1}function $i(e){var t=wa(e)?null:{s:0,n:e};return{next:function(n){for(var r=arguments.length>0;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&we(n,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||we(n,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function ss(e){var t,n,r=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((n=e.l)===null||n===void 0?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){var a=i==="r"?"l":"r",s=B({},e),o=e[i];e.from=o.from,e.to=o.to,e[i]=o[i],s[i]=o[a],e[a]=s,s.d=os(s)}e.d=os(e)}function os(e){var t=e.r,n=e.l;return(t?n?Math.max(t.d,n.d):t.d:n?n.d:0)+1}var yc={stack:"dbcore",level:0,create:function(e){var t=e.schema.name,n=new ot(e.MIN_KEY,e.MAX_KEY);return B(B({},e),{table:function(r){var i=e.table(r),a=i.schema,s=a.primaryKey,o=s.extractKey,u=s.outbound,l=B(B({},i),{mutate:function(h){var p=h.trans,d=p.mutatedParts||(p.mutatedParts={}),m=function(T){var S="idb://"+t+"/"+r+"/"+T;return d[S]||(d[S]=new ot)},v=m(""),g=m(":dels"),b=h.type,k=h.type==="deleteRange"?[h.range]:h.type==="delete"?[h.keys]:h.values.length<50?[[],h.values]:[],w=k[0],_=k[1],y=h.trans._cache;return i.mutate(h).then(function(T){if(ye(w)){b!=="delete"&&(w=T.results),v.addKeys(w);var S=_o(w,y);!S&&b!=="add"&&g.addKeys(w),(S||_)&&vc(m,a,S,_)}else if(w){var A={from:w.lower,to:w.upper};g.add(A),v.add(A)}else v.add(n),g.add(n),a.indexes.forEach(function(W){return m(W.name).add(n)});return T})}}),c=function(h){var p,d,m=h.query,v=m.index,g=m.range;return[v,new ot((p=g.lower)!==null&&p!==void 0?p:e.MIN_KEY,(d=g.upper)!==null&&d!==void 0?d:e.MAX_KEY)]},f={get:function(h){return[s,new ot(h.key)]},getMany:function(h){return[s,new ot().addKeys(h.keys)]},count:c,query:c,openCursor:c};return le(f).forEach(function(h){l[h]=function(p){var d=I.subscr;if(d){var m=function(y){var T="idb://"+t+"/"+r+"/"+y;return d[T]||(d[T]=new ot)},v=m(""),g=m(":dels"),b=f[h](p),k=b[0],w=b[1];if(m(k.name||"").add(w),!k.isPrimaryKey)if(h==="count")g.add(n);else{var _=h==="query"&&u&&p.values&&i.query(B(B({},p),{values:!1}));return i[h].apply(this,arguments).then(function(y){if(h==="query"){if(u&&p.values)return _.then(function(W){var Z=W.result;return v.addKeys(Z),y});var T=p.values?y.result.map(o):y.result;p.values?v.addKeys(T):g.addKeys(T)}else if(h==="openCursor"){var S=y,A=p.values;return S&&Object.create(S,{key:{get:function(){return g.addKey(S.primaryKey),S.key}},primaryKey:{get:function(){var W=S.primaryKey;return g.addKey(W),W}},value:{get:function(){return A&&v.addKey(S.primaryKey),S.value}}})}return y})}}return i[h].apply(this,arguments)}}),l}})}};function vc(e,t,n,r){function i(a){var s=e(a.name||"");function o(l){return l!=null?a.extractKey(l):null}var u=function(l){return a.multiEntry&&ye(l)?l.forEach(function(c){return s.addKey(c)}):s.addKey(l)};(n||r).forEach(function(l,c){var f=n&&o(n[c]),h=r&&o(r[c]);we(f,h)!==0&&(f!=null&&u(f),h!=null&&u(h))})}t.indexes.forEach(i)}var ba=function(){function e(t,n){var r=this;this._middlewares={},this.verno=0;var i=e.dependencies;this._options=n=B({addons:e.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};var a=n.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var s={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ee,dbReadyPromise:null,cancelOpen:ee,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};s.dbReadyPromise=new x(function(o){s.dbReadyResolve=o}),s.openCanceller=new x(function(o,u){s.cancelOpen=u}),this._state=s,this.name=t,this.on=Vn(this,"populate","blocked","versionchange","close",{ready:[la,ee]}),this.on.ready.subscribe=Bs(this.on.ready.subscribe,function(o){return function(u,l){e.vip(function(){var c=r._state;if(c.openComplete)c.dbOpenError||x.resolve().then(u),l&&o(u);else if(c.onReadyBeingFired)c.onReadyBeingFired.push(u),l&&o(u);else{o(u);var f=r;l||o(function h(){f.on.ready.unsubscribe(u),f.on.ready.unsubscribe(h)})}})}}),this.Collection=Pl(this),this.Table=Ml(this),this.Transaction=Kl(this),this.Version=nc(this),this.WhereClause=Ll(this),this.on("versionchange",function(o){o.newVersion>0?console.warn("Another connection wants to upgrade database '"+r.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+r.name+"'. Closing db now to resume the delete request."),r.close()}),this.on("blocked",function(o){!o.newVersion||o.newVersion<o.oldVersion?console.warn("Dexie.delete('"+r.name+"') was blocked"):console.warn("Upgrade '"+r.name+"' blocked by other connection holding version "+o.oldVersion/10)}),this._maxKey=Fn(n.IDBKeyRange),this._createTransaction=function(o,u,l,c){return new r.Transaction(o,u,l,r._options.chromeTransactionDurability,c)},this._fireOnBlocked=function(o){r.on("blocked").fire(o),On.filter(function(u){return u.name===r.name&&u!==r&&!u._state.vcFired}).map(function(u){return u.on("versionchange").fire(o)})},this.use(cc),this.use(hc),this.use(yc),this.use(pc),this.vip=Object.create(this,{_vip:{value:!0}}),a.forEach(function(o){return o(r)})}return e.prototype.version=function(t){if(isNaN(t)||t<.1)throw new F.Type("Given version is not a positive number");if(t=Math.round(t*10)/10,this.idbdb||this._state.isBeingOpened)throw new F.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);var n=this._versions,r=n.filter(function(i){return i._cfg.version===t})[0];return r||(r=new this.Version(t),n.push(r),n.sort(Gl),r.stores({}),this._state.autoSchema=!1,r)},e.prototype._whenReady=function(t){var n=this;return this.idbdb&&(this._state.openComplete||I.letThrough||this._vip)?t():new x(function(r,i){if(n._state.openComplete)return i(new F.DatabaseClosed(n._state.dbOpenError));if(!n._state.isBeingOpened){if(!n._options.autoOpen){i(new F.DatabaseClosed);return}n.open().catch(ee)}n._state.dbReadyPromise.then(r,i)}).then(t)},e.prototype.use=function(t){var n=t.stack,r=t.create,i=t.level,a=t.name;a&&this.unuse({stack:n,name:a});var s=this._middlewares[n]||(this._middlewares[n]=[]);return s.push({stack:n,create:r,level:i==null?10:i,name:a}),s.sort(function(o,u){return o.level-u.level}),this},e.prototype.unuse=function(t){var n=t.stack,r=t.name,i=t.create;return n&&this._middlewares[n]&&(this._middlewares[n]=this._middlewares[n].filter(function(a){return i?a.create!==i:r?a.name!==r:!1})),this},e.prototype.open=function(){return oc(this)},e.prototype._close=function(){var t=this._state,n=On.indexOf(this);if(n>=0&&On.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new x(function(r){t.dbReadyResolve=r}),t.openCanceller=new x(function(r,i){t.cancelOpen=i})},e.prototype.close=function(){this._close();var t=this._state;this._options.autoOpen=!1,t.dbOpenError=new F.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)},e.prototype.delete=function(){var t=this,n=arguments.length>0,r=this._state;return new x(function(i,a){var s=function(){t.close();var o=t._deps.indexedDB.deleteDatabase(t.name);o.onsuccess=ae(function(){ac(t._deps,t.name),i()}),o.onerror=Qe(a),o.onblocked=t._fireOnBlocked};if(n)throw new F.InvalidArgument("Arguments not allowed in db.delete()");r.isBeingOpened?r.dbReadyPromise.then(s):s()})},e.prototype.backendDB=function(){return this.idbdb},e.prototype.isOpen=function(){return this.idbdb!==null},e.prototype.hasBeenClosed=function(){var t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"},e.prototype.hasFailed=function(){return this._state.dbOpenError!==null},e.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(e.prototype,"tables",{get:function(){var t=this;return le(this._allTables).map(function(n){return t._allTables[n]})},enumerable:!1,configurable:!0}),e.prototype.transaction=function(){var t=uc.apply(this,arguments);return this._transaction.apply(this,t)},e.prototype._transaction=function(t,n,r){var i=this,a=I.trans;(!a||a.db!==this||t.indexOf("!")!==-1)&&(a=null);var s=t.indexOf("?")!==-1;t=t.replace("!","").replace("?","");var o,u;try{if(u=n.map(function(c){var f=c instanceof i.Table?c.name:c;if(typeof f!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return f}),t=="r"||t===ai)o=ai;else if(t=="rw"||t==si)o=si;else throw new F.InvalidArgument("Invalid transaction mode: "+t);if(a){if(a.mode===ai&&o===si)if(s)a=null;else throw new F.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");a&&u.forEach(function(c){if(a&&a.storeNames.indexOf(c)===-1)if(s)a=null;else throw new F.SubTransaction("Table "+c+" not included in parent transaction.")}),s&&a&&!a.active&&(a=null)}}catch(c){return a?a._promise(null,function(f,h){h(c)}):he(c)}var l=vo.bind(null,this,o,u,a,r);return a?a._promise(o,l,"lock"):I.trans?pn(I.transless,function(){return i._whenReady(l)}):this._whenReady(l)},e.prototype.table=function(t){if(!Re(this._allTables,t))throw new F.InvalidTable("Table "+t+" does not exist");return this._allTables[t]},e}(),_c=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",gc=function(){function e(t){this._subscribe=t}return e.prototype.subscribe=function(t,n,r){return this._subscribe(!t||typeof t=="function"?{next:t,error:n,complete:r}:t)},e.prototype[_c]=function(){return this},e}();function go(e,t){return le(t).forEach(function(n){var r=e[n]||(e[n]=new ot);xr(r,t[n])}),e}function wc(e){return new gc(function(t){var n=sa(e);function r(p){n&&dn();var d=function(){return At(e,{subscr:p,trans:null})},m=I.trans?pn(I.transless,d):d();return n&&m.then(vt,vt),m}var i=!1,a={},s={},o={get closed(){return i},unsubscribe:function(){i=!0,Rt.storagemutated.unsubscribe(f)}};t.start&&t.start(o);var u=!1,l=!1;function c(){return le(s).some(function(p){return a[p]&&mc(a[p],s[p])})}var f=function(p){go(a,p),c()&&h()},h=function(){if(!(u||i)){a={};var p={},d=r(p);l||(Rt(In,f),l=!0),u=!0,Promise.resolve(d).then(function(m){u=!1,!i&&(c()?h():(a={},s=p,t.next&&t.next(m)))},function(m){u=!1,t.error&&t.error(m),o.unsubscribe()})}};return h(),o})}var ji;try{ji={indexedDB:te.indexedDB||te.mozIndexedDB||te.webkitIndexedDB||te.msIndexedDB,IDBKeyRange:te.IDBKeyRange||te.webkitIDBKeyRange}}catch{ji={indexedDB:null,IDBKeyRange:null}}var It=ba;ln(It,B(B({},jr),{delete:function(e){var t=new It(e,{addons:[]});return t.delete()},exists:function(e){return new It(e,{addons:[]}).open().then(function(t){return t.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(e){try{return rc(It.dependencies).then(e)}catch{return he(new F.MissingAPI)}},defineClass:function(){function e(t){ke(this,t)}return e},ignoreTransaction:function(e){return I.trans?pn(I.transless,e):e()},vip:Wi,async:function(e){return function(){try{var t=Ki(e.apply(this,arguments));return!t||typeof t.then!="function"?x.resolve(t):t}catch(n){return he(n)}}},spawn:function(e,t,n){try{var r=Ki(e.apply(n,t||[]));return!r||typeof r.then!="function"?x.resolve(r):r}catch(i){return he(i)}},currentTransaction:{get:function(){return I.trans||null}},waitFor:function(e,t){var n=x.resolve(typeof e=="function"?It.ignoreTransaction(e):e).timeout(t||6e4);return I.trans?I.trans.waitFor(n):n},Promise:x,debug:{get:function(){return tt},set:function(e){Zs(e,e==="dexie"?function(){return!0}:lo)}},derive:fn,extend:ke,props:ln,override:Bs,Events:Vn,on:Rt,liveQuery:wc,extendObservabilitySet:go,getByKeyPath:pt,setByKeyPath:He,delByKeyPath:Qu,shallowClone:Vs,deepClone:jn,getObjectDiff:ga,cmp:we,asap:Us,minKey:Ri,addons:[],connections:On,errnames:ua,dependencies:ji,semVer:es,version:es.split(".").map(function(e){return parseInt(e)}).reduce(function(e,t,n){return e+t/Math.pow(10,n*2)})}));It.maxKey=Fn(It.dependencies.IDBKeyRange);typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Rt(In,function(e){if(!ft){var t;Br?(t=document.createEvent("CustomEvent"),t.initCustomEvent(Tt,!0,!0,e)):t=new CustomEvent(Tt,{detail:e}),ft=!0,dispatchEvent(t),ft=!1}}),addEventListener(Tt,function(e){var t=e.detail;ft||Ar(t)}));function Ar(e){var t=ft;try{ft=!0,Rt.storagemutated.fire(e)}finally{ft=t}}var ft=!1;if(typeof BroadcastChannel<"u"){var us=new BroadcastChannel(Tt);Rt(In,function(e){ft||us.postMessage(e)}),us.onmessage=function(e){e.data&&Ar(e.data)}}else if(typeof self<"u"&&typeof navigator<"u"){Rt(In,function(e){try{ft||(typeof localStorage<"u"&&localStorage.setItem(Tt,JSON.stringify({trig:Math.random(),changedParts:e})),typeof self.clients=="object"&&gi([],self.clients.matchAll({includeUncontrolled:!0}),!0).forEach(function(t){return t.postMessage({type:Tt,changedParts:e})}))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",function(e){if(e.key===Tt){var t=JSON.parse(e.newValue);t&&Ar(t.changedParts)}});var ls=self.document&&navigator.serviceWorker;ls&&ls.addEventListener("message",bc)}function bc(e){var t=e.data;t&&t.type===Tt&&Ar(t.changedParts)}x.rejectionMapper=ol;Zs(tt,lo);const kc=function(e,t){return e.join(t).toLowerCase()},Sc="(?:[a-z](?=[A-Z])|[A-Z](?=[A-Z][a-z]))";function Dc(e,t){for(let n=0,r=e.length;n<r;n++){const i=e[n],a=t[i];if(a!==void 0){e=e.substr(0,n)+a+e.substr(n+1);const s=String(a).length-1;n+=s,r+=s}}return e}const Tc=/[\u0300-\u036F\u1AB0-\u1AFF\u1DC0-\u1DFF]+/g,Oc=/[A-Za-z\d]+/g,Mc=new RegExp("[A-Za-z\\d]*?"+Sc+"|[A-Za-z\\d]+","g");function Ec(e,t){t=t||{};const n=t.camelCase!==void 0?t.camelCase:!0,r=t.separator!==void 0?t.separator:"-",i=t.transformer!==void 0?t.transformer:kc,a=(t.dictionary?Dc(String(e),t.dictionary):String(e)).normalize("NFKD").replace(Tc,"").match(n?Mc:Oc);return a?i?i(a,r):a.join(r):""}//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var wo;function O(){return wo.apply(null,arguments)}function Cc(e){wo=e}function Ve(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function Bt(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function V(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ka(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(V(e,t))return!1;return!0}function De(e){return e===void 0}function _t(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function zn(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function bo(e,t){var n=[],r,i=e.length;for(r=0;r<i;++r)n.push(t(e[r],r));return n}function Ot(e,t){for(var n in t)V(t,n)&&(e[n]=t[n]);return V(t,"toString")&&(e.toString=t.toString),V(t,"valueOf")&&(e.valueOf=t.valueOf),e}function nt(e,t,n,r){return Ho(e,t,n,r,!0).utc()}function xc(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function $(e){return e._pf==null&&(e._pf=xc()),e._pf}var Bi;Array.prototype.some?Bi=Array.prototype.some:Bi=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function Sa(e){if(e._isValid==null){var t=$(e),n=Bi.call(t.parsedDateParts,function(i){return i!=null}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r}return e._isValid}function Hr(e){var t=nt(NaN);return e!=null?Ot($(t),e):$(t).userInvalidated=!0,t}var cs=O.momentProperties=[],fi=!1;function Da(e,t){var n,r,i,a=cs.length;if(De(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),De(t._i)||(e._i=t._i),De(t._f)||(e._f=t._f),De(t._l)||(e._l=t._l),De(t._strict)||(e._strict=t._strict),De(t._tzm)||(e._tzm=t._tzm),De(t._isUTC)||(e._isUTC=t._isUTC),De(t._offset)||(e._offset=t._offset),De(t._pf)||(e._pf=$(t)),De(t._locale)||(e._locale=t._locale),a>0)for(n=0;n<a;n++)r=cs[n],i=t[r],De(i)||(e[r]=i);return e}function Zn(e){Da(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),fi===!1&&(fi=!0,O.updateOffset(this),fi=!1)}function Ge(e){return e instanceof Zn||e!=null&&e._isAMomentObject!=null}function ko(e){O.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function We(e,t){var n=!0;return Ot(function(){if(O.deprecationHandler!=null&&O.deprecationHandler(null,e),n){var r=[],i,a,s,o=arguments.length;for(a=0;a<o;a++){if(i="",typeof arguments[a]=="object"){i+=`
[`+a+"] ";for(s in arguments[0])V(arguments[0],s)&&(i+=s+": "+arguments[0][s]+", ");i=i.slice(0,-2)}else i=arguments[a];r.push(i)}ko(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var fs={};function So(e,t){O.deprecationHandler!=null&&O.deprecationHandler(e,t),fs[e]||(ko(t),fs[e]=!0)}O.suppressDeprecationWarnings=!1;O.deprecationHandler=null;function rt(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function Ac(e){var t,n;for(n in e)V(e,n)&&(t=e[n],rt(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Ui(e,t){var n=Ot({},e),r;for(r in t)V(t,r)&&(Bt(e[r])&&Bt(t[r])?(n[r]={},Ot(n[r],e[r]),Ot(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)V(e,r)&&!V(t,r)&&Bt(e[r])&&(n[r]=Ot({},n[r]));return n}function Ta(e){e!=null&&this.set(e)}var Hi;Object.keys?Hi=Object.keys:Hi=function(e){var t,n=[];for(t in e)V(e,t)&&n.push(t);return n};var Pc={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Rc(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return rt(r)?r.call(t,n):r}function et(e,t,n){var r=""+Math.abs(e),i=t-r.length,a=e>=0;return(a?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var Oa=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,sr=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,hi={},an={};function Y(e,t,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),e&&(an[e]=i),t&&(an[t[0]]=function(){return et(i.apply(this,arguments),t[1],t[2])}),n&&(an[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function Yc(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function Ic(e){var t=e.match(Oa),n,r;for(n=0,r=t.length;n<r;n++)an[t[n]]?t[n]=an[t[n]]:t[n]=Yc(t[n]);return function(i){var a="",s;for(s=0;s<r;s++)a+=rt(t[s])?t[s].call(i,e):t[s];return a}}function _r(e,t){return e.isValid()?(t=Do(t,e.localeData()),hi[t]=hi[t]||Ic(t),hi[t](e)):e.localeData().invalidDate()}function Do(e,t){var n=5;function r(i){return t.longDateFormat(i)||i}for(sr.lastIndex=0;n>=0&&sr.test(e);)e=e.replace(sr,r),sr.lastIndex=0,n-=1;return e}var Fc={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Nc(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(Oa).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var Lc="Invalid date";function Wc(){return this._invalidDate}var Kc="%d",$c=/\d{1,2}/;function jc(e){return this._ordinal.replace("%d",e)}var Bc={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Uc(e,t,n,r){var i=this._relativeTime[n];return rt(i)?i(e,t,n,r):i.replace(/%d/i,e)}function Hc(e,t){var n=this._relativeTime[e>0?"future":"past"];return rt(n)?n(t):n.replace(/%s/i,t)}var En={};function _e(e,t){var n=e.toLowerCase();En[n]=En[n+"s"]=En[t]=e}function Ke(e){return typeof e=="string"?En[e]||En[e.toLowerCase()]:void 0}function Ma(e){var t={},n,r;for(r in e)V(e,r)&&(n=Ke(r),n&&(t[n]=e[r]));return t}var To={};function ge(e,t){To[e]=t}function Vc(e){var t=[],n;for(n in e)V(e,n)&&t.push({unit:n,priority:To[n]});return t.sort(function(r,i){return r.priority-i.priority}),t}function Vr(e){return e%4===0&&e%100!==0||e%400===0}function Ne(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function j(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=Ne(t)),n}function mn(e,t){return function(n){return n!=null?(Oo(this,e,n),O.updateOffset(this,t),this):Pr(this,e)}}function Pr(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Oo(e,t,n){e.isValid()&&!isNaN(n)&&(t==="FullYear"&&Vr(e.year())&&e.month()===1&&e.date()===29?(n=j(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Qr(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Gc(e){return e=Ke(e),rt(this[e])?this[e]():this}function zc(e,t){if(typeof e=="object"){e=Ma(e);var n=Vc(e),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](e[n[r].unit])}else if(e=Ke(e),rt(this[e]))return this[e](t);return this}var Mo=/\d/,Ye=/\d\d/,Eo=/\d{3}/,Ea=/\d{4}/,Gr=/[+-]?\d{6}/,re=/\d\d?/,Co=/\d\d\d\d?/,xo=/\d\d\d\d\d\d?/,zr=/\d{1,3}/,Ca=/\d{1,4}/,Zr=/[+-]?\d{1,6}/,yn=/\d+/,qr=/[+-]?\d+/,Zc=/Z|[+-]\d\d:?\d\d/gi,Xr=/Z|[+-]\d\d(?::?\d\d)?/gi,qc=/[+-]?\d+(\.\d{1,3})?/,qn=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Rr;Rr={};function C(e,t,n){Rr[e]=rt(t)?t:function(r,i){return r&&n?n:t}}function Xc(e,t){return V(Rr,e)?Rr[e](t._strict,t._locale):new RegExp(Qc(e))}function Qc(e){return xe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,i,a){return n||r||i||a}))}function xe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Vi={};function X(e,t){var n,r=t,i;for(typeof e=="string"&&(e=[e]),_t(t)&&(r=function(a,s){s[t]=j(a)}),i=e.length,n=0;n<i;n++)Vi[e[n]]=r}function Xn(e,t){X(e,function(n,r,i,a){i._w=i._w||{},t(n,i._w,i,a)})}function Jc(e,t,n){t!=null&&V(Vi,e)&&Vi[e](t,n._a,n,e)}var ve=0,ht=1,Je=2,fe=3,Ue=4,dt=5,Wt=6,ef=7,tf=8;function nf(e,t){return(e%t+t)%t}var oe;Array.prototype.indexOf?oe=Array.prototype.indexOf:oe=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function Qr(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=nf(t,12);return e+=(t-n)/12,n===1?Vr(e)?29:28:31-n%7%2}Y("M",["MM",2],"Mo",function(){return this.month()+1});Y("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});Y("MMMM",0,0,function(e){return this.localeData().months(this,e)});_e("month","M");ge("month",8);C("M",re);C("MM",re,Ye);C("MMM",function(e,t){return t.monthsShortRegex(e)});C("MMMM",function(e,t){return t.monthsRegex(e)});X(["M","MM"],function(e,t){t[ht]=j(e)-1});X(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);i!=null?t[ht]=i:$(n).invalidMonth=e});var rf="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ao="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Po=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,af=qn,sf=qn;function of(e,t){return e?Ve(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Po).test(t)?"format":"standalone"][e.month()]:Ve(this._months)?this._months:this._months.standalone}function uf(e,t){return e?Ve(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Po.test(t)?"format":"standalone"][e.month()]:Ve(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function lf(e,t,n){var r,i,a,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)a=nt([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,"").toLocaleLowerCase();return n?t==="MMM"?(i=oe.call(this._shortMonthsParse,s),i!==-1?i:null):(i=oe.call(this._longMonthsParse,s),i!==-1?i:null):t==="MMM"?(i=oe.call(this._shortMonthsParse,s),i!==-1?i:(i=oe.call(this._longMonthsParse,s),i!==-1?i:null)):(i=oe.call(this._longMonthsParse,s),i!==-1?i:(i=oe.call(this._shortMonthsParse,s),i!==-1?i:null))}function cf(e,t,n){var r,i,a;if(this._monthsParseExact)return lf.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=nt([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function Ro(e,t){var n;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=j(t);else if(t=e.localeData().monthsParse(t),!_t(t))return e}return n=Math.min(e.date(),Qr(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Yo(e){return e!=null?(Ro(this,e),O.updateOffset(this,!0),this):Pr(this,"Month")}function ff(){return Qr(this.year(),this.month())}function hf(e){return this._monthsParseExact?(V(this,"_monthsRegex")||Io.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(V(this,"_monthsShortRegex")||(this._monthsShortRegex=af),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function df(e){return this._monthsParseExact?(V(this,"_monthsRegex")||Io.call(this),e?this._monthsStrictRegex:this._monthsRegex):(V(this,"_monthsRegex")||(this._monthsRegex=sf),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function Io(){function e(s,o){return o.length-s.length}var t=[],n=[],r=[],i,a;for(i=0;i<12;i++)a=nt([2e3,i]),t.push(this.monthsShort(a,"")),n.push(this.months(a,"")),r.push(this.months(a,"")),r.push(this.monthsShort(a,""));for(t.sort(e),n.sort(e),r.sort(e),i=0;i<12;i++)t[i]=xe(t[i]),n[i]=xe(n[i]);for(i=0;i<24;i++)r[i]=xe(r[i]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}Y("Y",0,0,function(){var e=this.year();return e<=9999?et(e,4):"+"+e});Y(0,["YY",2],0,function(){return this.year()%100});Y(0,["YYYY",4],0,"year");Y(0,["YYYYY",5],0,"year");Y(0,["YYYYYY",6,!0],0,"year");_e("year","y");ge("year",1);C("Y",qr);C("YY",re,Ye);C("YYYY",Ca,Ea);C("YYYYY",Zr,Gr);C("YYYYYY",Zr,Gr);X(["YYYYY","YYYYYY"],ve);X("YYYY",function(e,t){t[ve]=e.length===2?O.parseTwoDigitYear(e):j(e)});X("YY",function(e,t){t[ve]=O.parseTwoDigitYear(e)});X("Y",function(e,t){t[ve]=parseInt(e,10)});function Cn(e){return Vr(e)?366:365}O.parseTwoDigitYear=function(e){return j(e)+(j(e)>68?1900:2e3)};var Fo=mn("FullYear",!0);function pf(){return Vr(this.year())}function mf(e,t,n,r,i,a,s){var o;return e<100&&e>=0?(o=new Date(e+400,t,n,r,i,a,s),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,n,r,i,a,s),o}function Ln(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Yr(e,t,n){var r=7+t-n,i=(7+Ln(e,0,r).getUTCDay()-t)%7;return-i+r-1}function No(e,t,n,r,i){var a=(7+n-r)%7,s=Yr(e,r,i),o=1+7*(t-1)+a+s,u,l;return o<=0?(u=e-1,l=Cn(u)+o):o>Cn(e)?(u=e+1,l=o-Cn(e)):(u=e,l=o),{year:u,dayOfYear:l}}function Wn(e,t,n){var r=Yr(e.year(),t,n),i=Math.floor((e.dayOfYear()-r-1)/7)+1,a,s;return i<1?(s=e.year()-1,a=i+mt(s,t,n)):i>mt(e.year(),t,n)?(a=i-mt(e.year(),t,n),s=e.year()+1):(s=e.year(),a=i),{week:a,year:s}}function mt(e,t,n){var r=Yr(e,t,n),i=Yr(e+1,t,n);return(Cn(e)-r+i)/7}Y("w",["ww",2],"wo","week");Y("W",["WW",2],"Wo","isoWeek");_e("week","w");_e("isoWeek","W");ge("week",5);ge("isoWeek",5);C("w",re);C("ww",re,Ye);C("W",re);C("WW",re,Ye);Xn(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=j(e)});function yf(e){return Wn(e,this._week.dow,this._week.doy).week}var vf={dow:0,doy:6};function _f(){return this._week.dow}function gf(){return this._week.doy}function wf(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function bf(e){var t=Wn(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}Y("d",0,"do","day");Y("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});Y("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});Y("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});Y("e",0,0,"weekday");Y("E",0,0,"isoWeekday");_e("day","d");_e("weekday","e");_e("isoWeekday","E");ge("day",11);ge("weekday",11);ge("isoWeekday",11);C("d",re);C("e",re);C("E",re);C("dd",function(e,t){return t.weekdaysMinRegex(e)});C("ddd",function(e,t){return t.weekdaysShortRegex(e)});C("dddd",function(e,t){return t.weekdaysRegex(e)});Xn(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);i!=null?t.d=i:$(n).invalidWeekday=e});Xn(["d","e","E"],function(e,t,n,r){t[r]=j(e)});function kf(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function Sf(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function xa(e,t){return e.slice(t,7).concat(e.slice(0,t))}var Df="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Lo="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Tf="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Of=qn,Mf=qn,Ef=qn;function Cf(e,t){var n=Ve(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?xa(n,this._week.dow):e?n[e.day()]:n}function xf(e){return e===!0?xa(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Af(e){return e===!0?xa(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Pf(e,t,n){var r,i,a,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)a=nt([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,"").toLocaleLowerCase();return n?t==="dddd"?(i=oe.call(this._weekdaysParse,s),i!==-1?i:null):t==="ddd"?(i=oe.call(this._shortWeekdaysParse,s),i!==-1?i:null):(i=oe.call(this._minWeekdaysParse,s),i!==-1?i:null):t==="dddd"?(i=oe.call(this._weekdaysParse,s),i!==-1||(i=oe.call(this._shortWeekdaysParse,s),i!==-1)?i:(i=oe.call(this._minWeekdaysParse,s),i!==-1?i:null)):t==="ddd"?(i=oe.call(this._shortWeekdaysParse,s),i!==-1||(i=oe.call(this._weekdaysParse,s),i!==-1)?i:(i=oe.call(this._minWeekdaysParse,s),i!==-1?i:null)):(i=oe.call(this._minWeekdaysParse,s),i!==-1||(i=oe.call(this._weekdaysParse,s),i!==-1)?i:(i=oe.call(this._shortWeekdaysParse,s),i!==-1?i:null))}function Rf(e,t,n){var r,i,a;if(this._weekdaysParseExact)return Pf.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=nt([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(a.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Yf(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=kf(e,this.localeData()),this.add(e-t,"d")):t}function If(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function Ff(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=Sf(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function Nf(e){return this._weekdaysParseExact?(V(this,"_weekdaysRegex")||Aa.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(V(this,"_weekdaysRegex")||(this._weekdaysRegex=Of),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Lf(e){return this._weekdaysParseExact?(V(this,"_weekdaysRegex")||Aa.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(V(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Mf),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Wf(e){return this._weekdaysParseExact?(V(this,"_weekdaysRegex")||Aa.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(V(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ef),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Aa(){function e(c,f){return f.length-c.length}var t=[],n=[],r=[],i=[],a,s,o,u,l;for(a=0;a<7;a++)s=nt([2e3,1]).day(a),o=xe(this.weekdaysMin(s,"")),u=xe(this.weekdaysShort(s,"")),l=xe(this.weekdays(s,"")),t.push(o),n.push(u),r.push(l),i.push(o),i.push(u),i.push(l);t.sort(e),n.sort(e),r.sort(e),i.sort(e),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Pa(){return this.hours()%12||12}function Kf(){return this.hours()||24}Y("H",["HH",2],0,"hour");Y("h",["hh",2],0,Pa);Y("k",["kk",2],0,Kf);Y("hmm",0,0,function(){return""+Pa.apply(this)+et(this.minutes(),2)});Y("hmmss",0,0,function(){return""+Pa.apply(this)+et(this.minutes(),2)+et(this.seconds(),2)});Y("Hmm",0,0,function(){return""+this.hours()+et(this.minutes(),2)});Y("Hmmss",0,0,function(){return""+this.hours()+et(this.minutes(),2)+et(this.seconds(),2)});function Wo(e,t){Y(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}Wo("a",!0);Wo("A",!1);_e("hour","h");ge("hour",13);function Ko(e,t){return t._meridiemParse}C("a",Ko);C("A",Ko);C("H",re);C("h",re);C("k",re);C("HH",re,Ye);C("hh",re,Ye);C("kk",re,Ye);C("hmm",Co);C("hmmss",xo);C("Hmm",Co);C("Hmmss",xo);X(["H","HH"],fe);X(["k","kk"],function(e,t,n){var r=j(e);t[fe]=r===24?0:r});X(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});X(["h","hh"],function(e,t,n){t[fe]=j(e),$(n).bigHour=!0});X("hmm",function(e,t,n){var r=e.length-2;t[fe]=j(e.substr(0,r)),t[Ue]=j(e.substr(r)),$(n).bigHour=!0});X("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[fe]=j(e.substr(0,r)),t[Ue]=j(e.substr(r,2)),t[dt]=j(e.substr(i)),$(n).bigHour=!0});X("Hmm",function(e,t,n){var r=e.length-2;t[fe]=j(e.substr(0,r)),t[Ue]=j(e.substr(r))});X("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[fe]=j(e.substr(0,r)),t[Ue]=j(e.substr(r,2)),t[dt]=j(e.substr(i))});function $f(e){return(e+"").toLowerCase().charAt(0)==="p"}var jf=/[ap]\.?m?\.?/i,Bf=mn("Hours",!0);function Uf(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var $o={calendar:Pc,longDateFormat:Fc,invalidDate:Lc,ordinal:Kc,dayOfMonthOrdinalParse:$c,relativeTime:Bc,months:rf,monthsShort:Ao,week:vf,weekdays:Df,weekdaysMin:Tf,weekdaysShort:Lo,meridiemParse:jf},ie={},_n={},Kn;function Hf(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function hs(e){return e&&e.toLowerCase().replace("_","-")}function Vf(e){for(var t=0,n,r,i,a;t<e.length;){for(a=hs(e[t]).split("-"),n=a.length,r=hs(e[t+1]),r=r?r.split("-"):null;n>0;){if(i=Jr(a.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&Hf(a,r)>=n-1)break;n--}t++}return Kn}function Gf(e){return e.match("^[^/\\\\]*$")!=null}function Jr(e){var t=null,n;if(ie[e]===void 0&&typeof br<"u"&&br&&br.exports&&Gf(e))try{t=Kn._abbr,n=require,n("./locale/"+e),Ct(t)}catch{ie[e]=null}return ie[e]}function Ct(e,t){var n;return e&&(De(t)?n=gt(e):n=Ra(e,t),n?Kn=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Kn._abbr}function Ra(e,t){if(t!==null){var n,r=$o;if(t.abbr=e,ie[e]!=null)So("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=ie[e]._config;else if(t.parentLocale!=null)if(ie[t.parentLocale]!=null)r=ie[t.parentLocale]._config;else if(n=Jr(t.parentLocale),n!=null)r=n._config;else return _n[t.parentLocale]||(_n[t.parentLocale]=[]),_n[t.parentLocale].push({name:e,config:t}),null;return ie[e]=new Ta(Ui(r,t)),_n[e]&&_n[e].forEach(function(i){Ra(i.name,i.config)}),Ct(e),ie[e]}else return delete ie[e],null}function zf(e,t){if(t!=null){var n,r,i=$o;ie[e]!=null&&ie[e].parentLocale!=null?ie[e].set(Ui(ie[e]._config,t)):(r=Jr(e),r!=null&&(i=r._config),t=Ui(i,t),r==null&&(t.abbr=e),n=new Ta(t),n.parentLocale=ie[e],ie[e]=n),Ct(e)}else ie[e]!=null&&(ie[e].parentLocale!=null?(ie[e]=ie[e].parentLocale,e===Ct()&&Ct(e)):ie[e]!=null&&delete ie[e]);return ie[e]}function gt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Kn;if(!Ve(e)){if(t=Jr(e),t)return t;e=[e]}return Vf(e)}function Zf(){return Hi(ie)}function Ya(e){var t,n=e._a;return n&&$(e).overflow===-2&&(t=n[ht]<0||n[ht]>11?ht:n[Je]<1||n[Je]>Qr(n[ve],n[ht])?Je:n[fe]<0||n[fe]>24||n[fe]===24&&(n[Ue]!==0||n[dt]!==0||n[Wt]!==0)?fe:n[Ue]<0||n[Ue]>59?Ue:n[dt]<0||n[dt]>59?dt:n[Wt]<0||n[Wt]>999?Wt:-1,$(e)._overflowDayOfYear&&(t<ve||t>Je)&&(t=Je),$(e)._overflowWeeks&&t===-1&&(t=ef),$(e)._overflowWeekday&&t===-1&&(t=tf),$(e).overflow=t),e}var qf=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Xf=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Qf=/Z|[+-]\d\d(?::?\d\d)?/,or=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],di=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Jf=/^\/?Date\((-?\d+)/i,eh=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,th={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function jo(e){var t,n,r=e._i,i=qf.exec(r)||Xf.exec(r),a,s,o,u,l=or.length,c=di.length;if(i){for($(e).iso=!0,t=0,n=l;t<n;t++)if(or[t][1].exec(i[1])){s=or[t][0],a=or[t][2]!==!1;break}if(s==null){e._isValid=!1;return}if(i[3]){for(t=0,n=c;t<n;t++)if(di[t][1].exec(i[3])){o=(i[2]||" ")+di[t][0];break}if(o==null){e._isValid=!1;return}}if(!a&&o!=null){e._isValid=!1;return}if(i[4])if(Qf.exec(i[4]))u="Z";else{e._isValid=!1;return}e._f=s+(o||"")+(u||""),Fa(e)}else e._isValid=!1}function nh(e,t,n,r,i,a){var s=[rh(e),Ao.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return a&&s.push(parseInt(a,10)),s}function rh(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function ih(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function ah(e,t,n){if(e){var r=Lo.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(r!==i)return $(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function sh(e,t,n){if(e)return th[e];if(t)return 0;var r=parseInt(n,10),i=r%100,a=(r-i)/100;return a*60+i}function Bo(e){var t=eh.exec(ih(e._i)),n;if(t){if(n=nh(t[4],t[3],t[2],t[5],t[6],t[7]),!ah(t[1],n,e))return;e._a=n,e._tzm=sh(t[8],t[9],t[10]),e._d=Ln.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),$(e).rfc2822=!0}else e._isValid=!1}function oh(e){var t=Jf.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(jo(e),e._isValid===!1)delete e._isValid;else return;if(Bo(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:O.createFromInputFallback(e)}O.createFromInputFallback=We("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function tn(e,t,n){return e!=null?e:t!=null?t:n}function uh(e){var t=new Date(O.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Ia(e){var t,n,r=[],i,a,s;if(!e._d){for(i=uh(e),e._w&&e._a[Je]==null&&e._a[ht]==null&&lh(e),e._dayOfYear!=null&&(s=tn(e._a[ve],i[ve]),(e._dayOfYear>Cn(s)||e._dayOfYear===0)&&($(e)._overflowDayOfYear=!0),n=Ln(s,0,e._dayOfYear),e._a[ht]=n.getUTCMonth(),e._a[Je]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=i[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[fe]===24&&e._a[Ue]===0&&e._a[dt]===0&&e._a[Wt]===0&&(e._nextDay=!0,e._a[fe]=0),e._d=(e._useUTC?Ln:mf).apply(null,r),a=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[fe]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==a&&($(e).weekdayMismatch=!0)}}function lh(e){var t,n,r,i,a,s,o,u,l;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(a=1,s=4,n=tn(t.GG,e._a[ve],Wn(ne(),1,4).year),r=tn(t.W,1),i=tn(t.E,1),(i<1||i>7)&&(u=!0)):(a=e._locale._week.dow,s=e._locale._week.doy,l=Wn(ne(),a,s),n=tn(t.gg,e._a[ve],l.year),r=tn(t.w,l.week),t.d!=null?(i=t.d,(i<0||i>6)&&(u=!0)):t.e!=null?(i=t.e+a,(t.e<0||t.e>6)&&(u=!0)):i=a),r<1||r>mt(n,a,s)?$(e)._overflowWeeks=!0:u!=null?$(e)._overflowWeekday=!0:(o=No(n,r,i,a,s),e._a[ve]=o.year,e._dayOfYear=o.dayOfYear)}O.ISO_8601=function(){};O.RFC_2822=function(){};function Fa(e){if(e._f===O.ISO_8601){jo(e);return}if(e._f===O.RFC_2822){Bo(e);return}e._a=[],$(e).empty=!0;var t=""+e._i,n,r,i,a,s,o=t.length,u=0,l,c;for(i=Do(e._f,e._locale).match(Oa)||[],c=i.length,n=0;n<c;n++)a=i[n],r=(t.match(Xc(a,e))||[])[0],r&&(s=t.substr(0,t.indexOf(r)),s.length>0&&$(e).unusedInput.push(s),t=t.slice(t.indexOf(r)+r.length),u+=r.length),an[a]?(r?$(e).empty=!1:$(e).unusedTokens.push(a),Jc(a,r,e)):e._strict&&!r&&$(e).unusedTokens.push(a);$(e).charsLeftOver=o-u,t.length>0&&$(e).unusedInput.push(t),e._a[fe]<=12&&$(e).bigHour===!0&&e._a[fe]>0&&($(e).bigHour=void 0),$(e).parsedDateParts=e._a.slice(0),$(e).meridiem=e._meridiem,e._a[fe]=ch(e._locale,e._a[fe],e._meridiem),l=$(e).era,l!==null&&(e._a[ve]=e._locale.erasConvertYear(l,e._a[ve])),Ia(e),Ya(e)}function ch(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function fh(e){var t,n,r,i,a,s,o=!1,u=e._f.length;if(u===0){$(e).invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<u;i++)a=0,s=!1,t=Da({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[i],Fa(t),Sa(t)&&(s=!0),a+=$(t).charsLeftOver,a+=$(t).unusedTokens.length*10,$(t).score=a,o?a<r&&(r=a,n=t):(r==null||a<r||s)&&(r=a,n=t,s&&(o=!0));Ot(e,n||t)}function hh(e){if(!e._d){var t=Ma(e._i),n=t.day===void 0?t.date:t.day;e._a=bo([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),Ia(e)}}function dh(e){var t=new Zn(Ya(Uo(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Uo(e){var t=e._i,n=e._f;return e._locale=e._locale||gt(e._l),t===null||n===void 0&&t===""?Hr({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Ge(t)?new Zn(Ya(t)):(zn(t)?e._d=t:Ve(n)?fh(e):n?Fa(e):ph(e),Sa(e)||(e._d=null),e))}function ph(e){var t=e._i;De(t)?e._d=new Date(O.now()):zn(t)?e._d=new Date(t.valueOf()):typeof t=="string"?oh(e):Ve(t)?(e._a=bo(t.slice(0),function(n){return parseInt(n,10)}),Ia(e)):Bt(t)?hh(e):_t(t)?e._d=new Date(t):O.createFromInputFallback(e)}function Ho(e,t,n,r,i){var a={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(Bt(e)&&ka(e)||Ve(e)&&e.length===0)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=i,a._l=n,a._i=e,a._f=t,a._strict=r,dh(a)}function ne(e,t,n,r){return Ho(e,t,n,r,!1)}var mh=We("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ne.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Hr()}),yh=We("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ne.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Hr()});function Vo(e,t){var n,r;if(t.length===1&&Ve(t[0])&&(t=t[0]),!t.length)return ne();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function vh(){var e=[].slice.call(arguments,0);return Vo("isBefore",e)}function _h(){var e=[].slice.call(arguments,0);return Vo("isAfter",e)}var gh=function(){return Date.now?Date.now():+new Date},gn=["year","quarter","month","week","day","hour","minute","second","millisecond"];function wh(e){var t,n=!1,r,i=gn.length;for(t in e)if(V(e,t)&&!(oe.call(gn,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<i;++r)if(e[gn[r]]){if(n)return!1;parseFloat(e[gn[r]])!==j(e[gn[r]])&&(n=!0)}return!0}function bh(){return this._isValid}function kh(){return Ze(NaN)}function ei(e){var t=Ma(e),n=t.year||0,r=t.quarter||0,i=t.month||0,a=t.week||t.isoWeek||0,s=t.day||0,o=t.hour||0,u=t.minute||0,l=t.second||0,c=t.millisecond||0;this._isValid=wh(t),this._milliseconds=+c+l*1e3+u*6e4+o*1e3*60*60,this._days=+s+a*7,this._months=+i+r*3+n*12,this._data={},this._locale=gt(),this._bubble()}function gr(e){return e instanceof ei}function Gi(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function Sh(e,t,n){var r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),a=0,s;for(s=0;s<r;s++)(n&&e[s]!==t[s]||!n&&j(e[s])!==j(t[s]))&&a++;return a+i}function Go(e,t){Y(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+et(~~(n/60),2)+t+et(~~n%60,2)})}Go("Z",":");Go("ZZ","");C("Z",Xr);C("ZZ",Xr);X(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Na(Xr,e)});var Dh=/([\+\-]|\d\d)/gi;function Na(e,t){var n=(t||"").match(e),r,i,a;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(Dh)||["-",0,0],a=+(i[1]*60)+j(i[2]),a===0?0:i[0]==="+"?a:-a)}function La(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(Ge(e)||zn(e)?e.valueOf():ne(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),O.updateOffset(n,!1),n):ne(e).local()}function zi(e){return-Math.round(e._d.getTimezoneOffset())}O.updateOffset=function(){};function Th(e,t,n){var r=this._offset||0,i;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=Na(Xr,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(i=zi(this)),this._offset=e,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==e&&(!t||this._changeInProgress?qo(this,Ze(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,O.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:zi(this)}function Oh(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Mh(e){return this.utcOffset(0,e)}function Eh(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(zi(this),"m")),this}function Ch(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=Na(Zc,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function xh(e){return this.isValid()?(e=e?ne(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function Ah(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ph(){if(!De(this._isDSTShifted))return this._isDSTShifted;var e={},t;return Da(e,this),e=Uo(e),e._a?(t=e._isUTC?nt(e._a):ne(e._a),this._isDSTShifted=this.isValid()&&Sh(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Rh(){return this.isValid()?!this._isUTC:!1}function Yh(){return this.isValid()?this._isUTC:!1}function zo(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Ih=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Fh=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ze(e,t){var n=e,r=null,i,a,s;return gr(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:_t(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=Ih.exec(e))?(i=r[1]==="-"?-1:1,n={y:0,d:j(r[Je])*i,h:j(r[fe])*i,m:j(r[Ue])*i,s:j(r[dt])*i,ms:j(Gi(r[Wt]*1e3))*i}):(r=Fh.exec(e))?(i=r[1]==="-"?-1:1,n={y:Yt(r[2],i),M:Yt(r[3],i),w:Yt(r[4],i),d:Yt(r[5],i),h:Yt(r[6],i),m:Yt(r[7],i),s:Yt(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(s=Nh(ne(n.from),ne(n.to)),n={},n.ms=s.milliseconds,n.M=s.months),a=new ei(n),gr(e)&&V(e,"_locale")&&(a._locale=e._locale),gr(e)&&V(e,"_isValid")&&(a._isValid=e._isValid),a}Ze.fn=ei.prototype;Ze.invalid=kh;function Yt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function ds(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Nh(e,t){var n;return e.isValid()&&t.isValid()?(t=La(t,e),e.isBefore(t)?n=ds(e,t):(n=ds(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Zo(e,t){return function(n,r){var i,a;return r!==null&&!isNaN(+r)&&(So(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=n,n=r,r=a),i=Ze(n,r),qo(this,i,e),this}}function qo(e,t,n,r){var i=t._milliseconds,a=Gi(t._days),s=Gi(t._months);!e.isValid()||(r=r==null?!0:r,s&&Ro(e,Pr(e,"Month")+s*n),a&&Oo(e,"Date",Pr(e,"Date")+a*n),i&&e._d.setTime(e._d.valueOf()+i*n),r&&O.updateOffset(e,a||s))}var Lh=Zo(1,"add"),Wh=Zo(-1,"subtract");function Xo(e){return typeof e=="string"||e instanceof String}function Kh(e){return Ge(e)||zn(e)||Xo(e)||_t(e)||jh(e)||$h(e)||e===null||e===void 0}function $h(e){var t=Bt(e)&&!ka(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,a,s=r.length;for(i=0;i<s;i+=1)a=r[i],n=n||V(e,a);return t&&n}function jh(e){var t=Ve(e),n=!1;return t&&(n=e.filter(function(r){return!_t(r)&&Xo(e)}).length===0),t&&n}function Bh(e){var t=Bt(e)&&!ka(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,a;for(i=0;i<r.length;i+=1)a=r[i],n=n||V(e,a);return t&&n}function Uh(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Hh(e,t){arguments.length===1&&(arguments[0]?Kh(arguments[0])?(e=arguments[0],t=void 0):Bh(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||ne(),r=La(n,this).startOf("day"),i=O.calendarFormat(this,r)||"sameElse",a=t&&(rt(t[i])?t[i].call(this,n):t[i]);return this.format(a||this.localeData().calendar(i,this,ne(n)))}function Vh(){return new Zn(this)}function Gh(e,t){var n=Ge(e)?e:ne(e);return this.isValid()&&n.isValid()?(t=Ke(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function zh(e,t){var n=Ge(e)?e:ne(e);return this.isValid()&&n.isValid()?(t=Ke(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function Zh(e,t,n,r){var i=Ge(e)?e:ne(e),a=Ge(t)?t:ne(t);return this.isValid()&&i.isValid()&&a.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(a,n):!this.isAfter(a,n))):!1}function qh(e,t){var n=Ge(e)?e:ne(e),r;return this.isValid()&&n.isValid()?(t=Ke(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function Xh(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Qh(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Jh(e,t,n){var r,i,a;if(!this.isValid())return NaN;if(r=La(e,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,t=Ke(t),t){case"year":a=wr(this,r)/12;break;case"month":a=wr(this,r);break;case"quarter":a=wr(this,r)/3;break;case"second":a=(this-r)/1e3;break;case"minute":a=(this-r)/6e4;break;case"hour":a=(this-r)/36e5;break;case"day":a=(this-r-i)/864e5;break;case"week":a=(this-r-i)/6048e5;break;default:a=this-r}return n?a:Ne(a)}function wr(e,t){if(e.date()<t.date())return-wr(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),i,a;return t-r<0?(i=e.clone().add(n-1,"months"),a=(t-r)/(r-i)):(i=e.clone().add(n+1,"months"),a=(t-r)/(i-r)),-(n+a)||0}O.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";O.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function ed(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function td(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?_r(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):rt(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",_r(n,"Z")):_r(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function nd(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,i,a;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",a=t+'[")]',this.format(n+r+i+a)}function rd(e){e||(e=this.isUtc()?O.defaultFormatUtc:O.defaultFormat);var t=_r(this,e);return this.localeData().postformat(t)}function id(e,t){return this.isValid()&&(Ge(e)&&e.isValid()||ne(e).isValid())?Ze({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ad(e){return this.from(ne(),e)}function sd(e,t){return this.isValid()&&(Ge(e)&&e.isValid()||ne(e).isValid())?Ze({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function od(e){return this.to(ne(),e)}function Qo(e){var t;return e===void 0?this._locale._abbr:(t=gt(e),t!=null&&(this._locale=t),this)}var Jo=We("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function eu(){return this._locale}var Ir=1e3,sn=60*Ir,Fr=60*sn,tu=(365*400+97)*24*Fr;function on(e,t){return(e%t+t)%t}function nu(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-tu:new Date(e,t,n).valueOf()}function ru(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-tu:Date.UTC(e,t,n)}function ud(e){var t,n;if(e=Ke(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?ru:nu,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=on(t+(this._isUTC?0:this.utcOffset()*sn),Fr);break;case"minute":t=this._d.valueOf(),t-=on(t,sn);break;case"second":t=this._d.valueOf(),t-=on(t,Ir);break}return this._d.setTime(t),O.updateOffset(this,!0),this}function ld(e){var t,n;if(e=Ke(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?ru:nu,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Fr-on(t+(this._isUTC?0:this.utcOffset()*sn),Fr)-1;break;case"minute":t=this._d.valueOf(),t+=sn-on(t,sn)-1;break;case"second":t=this._d.valueOf(),t+=Ir-on(t,Ir)-1;break}return this._d.setTime(t),O.updateOffset(this,!0),this}function cd(){return this._d.valueOf()-(this._offset||0)*6e4}function fd(){return Math.floor(this.valueOf()/1e3)}function hd(){return new Date(this.valueOf())}function dd(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function pd(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function md(){return this.isValid()?this.toISOString():null}function yd(){return Sa(this)}function vd(){return Ot({},$(this))}function _d(){return $(this).overflow}function gd(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Y("N",0,0,"eraAbbr");Y("NN",0,0,"eraAbbr");Y("NNN",0,0,"eraAbbr");Y("NNNN",0,0,"eraName");Y("NNNNN",0,0,"eraNarrow");Y("y",["y",1],"yo","eraYear");Y("y",["yy",2],0,"eraYear");Y("y",["yyy",3],0,"eraYear");Y("y",["yyyy",4],0,"eraYear");C("N",Wa);C("NN",Wa);C("NNN",Wa);C("NNNN",xd);C("NNNNN",Ad);X(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?$(n).era=i:$(n).invalidEra=e});C("y",yn);C("yy",yn);C("yyy",yn);C("yyyy",yn);C("yo",Pd);X(["y","yy","yyy","yyyy"],ve);X(["yo"],function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[ve]=n._locale.eraYearOrdinalParse(e,i):t[ve]=parseInt(e,10)});function wd(e,t){var n,r,i,a=this._eras||gt("en")._eras;for(n=0,r=a.length;n<r;++n){switch(typeof a[n].since){case"string":i=O(a[n].since).startOf("day"),a[n].since=i.valueOf();break}switch(typeof a[n].until){case"undefined":a[n].until=1/0;break;case"string":i=O(a[n].until).startOf("day").valueOf(),a[n].until=i.valueOf();break}}return a}function bd(e,t,n){var r,i,a=this.eras(),s,o,u;for(e=e.toUpperCase(),r=0,i=a.length;r<i;++r)if(s=a[r].name.toUpperCase(),o=a[r].abbr.toUpperCase(),u=a[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(o===e)return a[r];break;case"NNNN":if(s===e)return a[r];break;case"NNNNN":if(u===e)return a[r];break}else if([s,o,u].indexOf(e)>=0)return a[r]}function kd(e,t){var n=e.since<=e.until?1:-1;return t===void 0?O(e.since).year():O(e.since).year()+(t-e.offset)*n}function Sd(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function Dd(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function Td(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function Od(){var e,t,n,r,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=i[e].since<=i[e].until?1:-1,r=this.clone().startOf("day").valueOf(),i[e].since<=r&&r<=i[e].until||i[e].until<=r&&r<=i[e].since)return(this.year()-O(i[e].since).year())*n+i[e].offset;return this.year()}function Md(e){return V(this,"_erasNameRegex")||Ka.call(this),e?this._erasNameRegex:this._erasRegex}function Ed(e){return V(this,"_erasAbbrRegex")||Ka.call(this),e?this._erasAbbrRegex:this._erasRegex}function Cd(e){return V(this,"_erasNarrowRegex")||Ka.call(this),e?this._erasNarrowRegex:this._erasRegex}function Wa(e,t){return t.erasAbbrRegex(e)}function xd(e,t){return t.erasNameRegex(e)}function Ad(e,t){return t.erasNarrowRegex(e)}function Pd(e,t){return t._eraYearOrdinalRegex||yn}function Ka(){var e=[],t=[],n=[],r=[],i,a,s=this.eras();for(i=0,a=s.length;i<a;++i)t.push(xe(s[i].name)),e.push(xe(s[i].abbr)),n.push(xe(s[i].narrow)),r.push(xe(s[i].name)),r.push(xe(s[i].abbr)),r.push(xe(s[i].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}Y(0,["gg",2],0,function(){return this.weekYear()%100});Y(0,["GG",2],0,function(){return this.isoWeekYear()%100});function ti(e,t){Y(0,[e,e.length],0,t)}ti("gggg","weekYear");ti("ggggg","weekYear");ti("GGGG","isoWeekYear");ti("GGGGG","isoWeekYear");_e("weekYear","gg");_e("isoWeekYear","GG");ge("weekYear",1);ge("isoWeekYear",1);C("G",qr);C("g",qr);C("GG",re,Ye);C("gg",re,Ye);C("GGGG",Ca,Ea);C("gggg",Ca,Ea);C("GGGGG",Zr,Gr);C("ggggg",Zr,Gr);Xn(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=j(e)});Xn(["gg","GG"],function(e,t,n,r){t[r]=O.parseTwoDigitYear(e)});function Rd(e){return iu.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Yd(e){return iu.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Id(){return mt(this.year(),1,4)}function Fd(){return mt(this.isoWeekYear(),1,4)}function Nd(){var e=this.localeData()._week;return mt(this.year(),e.dow,e.doy)}function Ld(){var e=this.localeData()._week;return mt(this.weekYear(),e.dow,e.doy)}function iu(e,t,n,r,i){var a;return e==null?Wn(this,r,i).year:(a=mt(e,r,i),t>a&&(t=a),Wd.call(this,e,t,n,r,i))}function Wd(e,t,n,r,i){var a=No(e,t,n,r,i),s=Ln(a.year,0,a.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}Y("Q",0,"Qo","quarter");_e("quarter","Q");ge("quarter",7);C("Q",Mo);X("Q",function(e,t){t[ht]=(j(e)-1)*3});function Kd(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}Y("D",["DD",2],"Do","date");_e("date","D");ge("date",9);C("D",re);C("DD",re,Ye);C("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});X(["D","DD"],Je);X("Do",function(e,t){t[Je]=j(e.match(re)[0])});var au=mn("Date",!0);Y("DDD",["DDDD",3],"DDDo","dayOfYear");_e("dayOfYear","DDD");ge("dayOfYear",4);C("DDD",zr);C("DDDD",Eo);X(["DDD","DDDD"],function(e,t,n){n._dayOfYear=j(e)});function $d(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}Y("m",["mm",2],0,"minute");_e("minute","m");ge("minute",14);C("m",re);C("mm",re,Ye);X(["m","mm"],Ue);var jd=mn("Minutes",!1);Y("s",["ss",2],0,"second");_e("second","s");ge("second",15);C("s",re);C("ss",re,Ye);X(["s","ss"],dt);var Bd=mn("Seconds",!1);Y("S",0,0,function(){return~~(this.millisecond()/100)});Y(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Y(0,["SSS",3],0,"millisecond");Y(0,["SSSS",4],0,function(){return this.millisecond()*10});Y(0,["SSSSS",5],0,function(){return this.millisecond()*100});Y(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Y(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Y(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Y(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});_e("millisecond","ms");ge("millisecond",16);C("S",zr,Mo);C("SS",zr,Ye);C("SSS",zr,Eo);var Mt,su;for(Mt="SSSS";Mt.length<=9;Mt+="S")C(Mt,yn);function Ud(e,t){t[Wt]=j(("0."+e)*1e3)}for(Mt="S";Mt.length<=9;Mt+="S")X(Mt,Ud);su=mn("Milliseconds",!1);Y("z",0,0,"zoneAbbr");Y("zz",0,0,"zoneName");function Hd(){return this._isUTC?"UTC":""}function Vd(){return this._isUTC?"Coordinated Universal Time":""}var D=Zn.prototype;D.add=Lh;D.calendar=Hh;D.clone=Vh;D.diff=Jh;D.endOf=ld;D.format=rd;D.from=id;D.fromNow=ad;D.to=sd;D.toNow=od;D.get=Gc;D.invalidAt=_d;D.isAfter=Gh;D.isBefore=zh;D.isBetween=Zh;D.isSame=qh;D.isSameOrAfter=Xh;D.isSameOrBefore=Qh;D.isValid=yd;D.lang=Jo;D.locale=Qo;D.localeData=eu;D.max=yh;D.min=mh;D.parsingFlags=vd;D.set=zc;D.startOf=ud;D.subtract=Wh;D.toArray=dd;D.toObject=pd;D.toDate=hd;D.toISOString=td;D.inspect=nd;typeof Symbol<"u"&&Symbol.for!=null&&(D[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});D.toJSON=md;D.toString=ed;D.unix=fd;D.valueOf=cd;D.creationData=gd;D.eraName=Sd;D.eraNarrow=Dd;D.eraAbbr=Td;D.eraYear=Od;D.year=Fo;D.isLeapYear=pf;D.weekYear=Rd;D.isoWeekYear=Yd;D.quarter=D.quarters=Kd;D.month=Yo;D.daysInMonth=ff;D.week=D.weeks=wf;D.isoWeek=D.isoWeeks=bf;D.weeksInYear=Nd;D.weeksInWeekYear=Ld;D.isoWeeksInYear=Id;D.isoWeeksInISOWeekYear=Fd;D.date=au;D.day=D.days=Yf;D.weekday=If;D.isoWeekday=Ff;D.dayOfYear=$d;D.hour=D.hours=Bf;D.minute=D.minutes=jd;D.second=D.seconds=Bd;D.millisecond=D.milliseconds=su;D.utcOffset=Th;D.utc=Mh;D.local=Eh;D.parseZone=Ch;D.hasAlignedHourOffset=xh;D.isDST=Ah;D.isLocal=Rh;D.isUtcOffset=Yh;D.isUtc=zo;D.isUTC=zo;D.zoneAbbr=Hd;D.zoneName=Vd;D.dates=We("dates accessor is deprecated. Use date instead.",au);D.months=We("months accessor is deprecated. Use month instead",Yo);D.years=We("years accessor is deprecated. Use year instead",Fo);D.zone=We("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Oh);D.isDSTShifted=We("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ph);function Gd(e){return ne(e*1e3)}function zd(){return ne.apply(null,arguments).parseZone()}function ou(e){return e}var G=Ta.prototype;G.calendar=Rc;G.longDateFormat=Nc;G.invalidDate=Wc;G.ordinal=jc;G.preparse=ou;G.postformat=ou;G.relativeTime=Uc;G.pastFuture=Hc;G.set=Ac;G.eras=wd;G.erasParse=bd;G.erasConvertYear=kd;G.erasAbbrRegex=Ed;G.erasNameRegex=Md;G.erasNarrowRegex=Cd;G.months=of;G.monthsShort=uf;G.monthsParse=cf;G.monthsRegex=df;G.monthsShortRegex=hf;G.week=yf;G.firstDayOfYear=gf;G.firstDayOfWeek=_f;G.weekdays=Cf;G.weekdaysMin=Af;G.weekdaysShort=xf;G.weekdaysParse=Rf;G.weekdaysRegex=Nf;G.weekdaysShortRegex=Lf;G.weekdaysMinRegex=Wf;G.isPM=$f;G.meridiem=Uf;function Nr(e,t,n,r){var i=gt(),a=nt().set(r,t);return i[n](a,e)}function uu(e,t,n){if(_t(e)&&(t=e,e=void 0),e=e||"",t!=null)return Nr(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Nr(e,r,n,"month");return i}function $a(e,t,n,r){typeof e=="boolean"?(_t(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,_t(t)&&(n=t,t=void 0),t=t||"");var i=gt(),a=e?i._week.dow:0,s,o=[];if(n!=null)return Nr(t,(n+a)%7,r,"day");for(s=0;s<7;s++)o[s]=Nr(t,(s+a)%7,r,"day");return o}function Zd(e,t){return uu(e,t,"months")}function qd(e,t){return uu(e,t,"monthsShort")}function Xd(e,t,n){return $a(e,t,n,"weekdays")}function Qd(e,t,n){return $a(e,t,n,"weekdaysShort")}function Jd(e,t,n){return $a(e,t,n,"weekdaysMin")}Ct("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=j(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});O.lang=We("moment.lang is deprecated. Use moment.locale instead.",Ct);O.langData=We("moment.langData is deprecated. Use moment.localeData instead.",gt);var at=Math.abs;function ep(){var e=this._data;return this._milliseconds=at(this._milliseconds),this._days=at(this._days),this._months=at(this._months),e.milliseconds=at(e.milliseconds),e.seconds=at(e.seconds),e.minutes=at(e.minutes),e.hours=at(e.hours),e.months=at(e.months),e.years=at(e.years),this}function lu(e,t,n,r){var i=Ze(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function tp(e,t){return lu(this,e,t,1)}function np(e,t){return lu(this,e,t,-1)}function ps(e){return e<0?Math.floor(e):Math.ceil(e)}function rp(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,i,a,s,o,u;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=ps(Zi(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,i=Ne(e/1e3),r.seconds=i%60,a=Ne(i/60),r.minutes=a%60,s=Ne(a/60),r.hours=s%24,t+=Ne(s/24),u=Ne(cu(t)),n+=u,t-=ps(Zi(u)),o=Ne(n/12),n%=12,r.days=t,r.months=n,r.years=o,this}function cu(e){return e*4800/146097}function Zi(e){return e*146097/4800}function ip(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=Ke(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+cu(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Zi(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function ap(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+j(this._months/12)*31536e6:NaN}function wt(e){return function(){return this.as(e)}}var sp=wt("ms"),op=wt("s"),up=wt("m"),lp=wt("h"),cp=wt("d"),fp=wt("w"),hp=wt("M"),dp=wt("Q"),pp=wt("y");function mp(){return Ze(this)}function yp(e){return e=Ke(e),this.isValid()?this[e+"s"]():NaN}function Zt(e){return function(){return this.isValid()?this._data[e]:NaN}}var vp=Zt("milliseconds"),_p=Zt("seconds"),gp=Zt("minutes"),wp=Zt("hours"),bp=Zt("days"),kp=Zt("months"),Sp=Zt("years");function Dp(){return Ne(this.days()/7)}var st=Math.round,nn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Tp(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function Op(e,t,n,r){var i=Ze(e).abs(),a=st(i.as("s")),s=st(i.as("m")),o=st(i.as("h")),u=st(i.as("d")),l=st(i.as("M")),c=st(i.as("w")),f=st(i.as("y")),h=a<=n.ss&&["s",a]||a<n.s&&["ss",a]||s<=1&&["m"]||s<n.m&&["mm",s]||o<=1&&["h"]||o<n.h&&["hh",o]||u<=1&&["d"]||u<n.d&&["dd",u];return n.w!=null&&(h=h||c<=1&&["w"]||c<n.w&&["ww",c]),h=h||l<=1&&["M"]||l<n.M&&["MM",l]||f<=1&&["y"]||["yy",f],h[2]=t,h[3]=+e>0,h[4]=r,Tp.apply(null,h)}function Mp(e){return e===void 0?st:typeof e=="function"?(st=e,!0):!1}function Ep(e,t){return nn[e]===void 0?!1:t===void 0?nn[e]:(nn[e]=t,e==="s"&&(nn.ss=t-1),!0)}function Cp(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=nn,i,a;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},nn,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),i=this.localeData(),a=Op(this,!n,r,i),n&&(a=i.pastFuture(+this,a)),i.postformat(a)}var pi=Math.abs;function Jt(e){return(e>0)-(e<0)||+e}function ni(){if(!this.isValid())return this.localeData().invalidDate();var e=pi(this._milliseconds)/1e3,t=pi(this._days),n=pi(this._months),r,i,a,s,o=this.asSeconds(),u,l,c,f;return o?(r=Ne(e/60),i=Ne(r/60),e%=60,r%=60,a=Ne(n/12),n%=12,s=e?e.toFixed(3).replace(/\.?0+$/,""):"",u=o<0?"-":"",l=Jt(this._months)!==Jt(o)?"-":"",c=Jt(this._days)!==Jt(o)?"-":"",f=Jt(this._milliseconds)!==Jt(o)?"-":"",u+"P"+(a?l+a+"Y":"")+(n?l+n+"M":"")+(t?c+t+"D":"")+(i||r||e?"T":"")+(i?f+i+"H":"")+(r?f+r+"M":"")+(e?f+s+"S":"")):"P0D"}var U=ei.prototype;U.isValid=bh;U.abs=ep;U.add=tp;U.subtract=np;U.as=ip;U.asMilliseconds=sp;U.asSeconds=op;U.asMinutes=up;U.asHours=lp;U.asDays=cp;U.asWeeks=fp;U.asMonths=hp;U.asQuarters=dp;U.asYears=pp;U.valueOf=ap;U._bubble=rp;U.clone=mp;U.get=yp;U.milliseconds=vp;U.seconds=_p;U.minutes=gp;U.hours=wp;U.days=bp;U.weeks=Dp;U.months=kp;U.years=Sp;U.humanize=Cp;U.toISOString=ni;U.toString=ni;U.toJSON=ni;U.locale=Qo;U.localeData=eu;U.toIsoString=We("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ni);U.lang=Jo;Y("X",0,0,"unix");Y("x",0,0,"valueOf");C("x",qr);C("X",qc);X("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});X("x",function(e,t,n){n._d=new Date(j(e))});//! moment.js
O.version="2.29.4";Cc(ne);O.fn=D;O.min=vh;O.max=_h;O.now=gh;O.utc=nt;O.unix=Gd;O.months=Zd;O.isDate=zn;O.locale=Ct;O.invalid=Hr;O.duration=Ze;O.isMoment=Ge;O.weekdays=Xd;O.parseZone=zd;O.localeData=gt;O.isDuration=gr;O.monthsShort=qd;O.weekdaysMin=Jd;O.defineLocale=Ra;O.updateLocale=zf;O.locales=Zf;O.weekdaysShort=Qd;O.normalizeUnits=Ke;O.relativeTimeRounding=Mp;O.relativeTimeThreshold=Ep;O.calendarFormat=Uh;O.prototype=D;O.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const fu=/([`!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~.(\r\n|\r|\n)]+)/g,hu=e=>e.match(fu)?"symbol":"term",qi=e=>e.replace(" ","").toUpperCase(),Xi=(e,t)=>e.replaceAll(fu," $1 ").split(/ +/).filter(r=>r!=="").map(r=>{const i=hu(r);return{id:qi(r),type:i,value:r,status:0,sources:[t],notes:"",createdAt:O().toISOString(),updatedAt:O().toISOString(),reviewedAt:O().toISOString()}});class xp extends ba{constructor(){super("myDatabase");Ee(this,"content");Ee(this,"terms");Ee(this,"addTerm");Ee(this,"updateTerm");Ee(this,"getTerm");Ee(this,"getTerms");Ee(this,"getContent");Ee(this,"bulkAddTerm");Ee(this,"addContent");Ee(this,"updateContent");Ee(this,"getContents");Ee(this,"deleteContent");this.version(1).stores({content:"id, title, updatedAt",terms:"id, value, status, type, *sources, createdAt, reviewedAt"}),this.addTerm=async n=>{const r=n.match(/([`!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~.(\r\n|\r|\n)]+)/g)?"symbol":"term";return await this.terms.add({id:qi(n),value:n,status:0,type:r,sources:[],notes:"",createdAt:O().toISOString(),updatedAt:O().toISOString(),reviewedAt:O().toISOString()})},this.updateTerm=async n=>await this.terms.put(n),this.bulkAddTerm=async n=>{const r=n.map(i=>({...i,id:qi(i.value),type:hu(i.value),createdAt:O().toISOString(),updatedAt:O().toISOString(),reviewedAt:O().toISOString()}));return await this.terms.bulkPut(r,{allKeys:!0}).catch(i=>i.failures.map(async(a,s)=>await this.terms.get(r[s].id)))},this.addContent=async(n,r,i=[])=>{try{const a=Ec(n),s=Xi(r,a),o=await Promise.all(s.map(async l=>{const c=await ce.getTerm(l.id),f=i.find(p=>p.id===l.id);let h;return c&&(h={...l,status:c.status,sources:[...c.sources,...l.sources],updatedAt:O().toISOString()}),f&&(h={...l,status:f.status[0],updatedAt:O().toISOString(),sources:[...c?c.sources:[],...l.sources]}),h?(await ce.terms.put(h),h):l}));return await this.content.add({id:a,title:n,originalString:r,parsed:o,createdAt:O().toISOString(),updatedAt:O().toISOString()})}catch(a){return a}},this.deleteContent=async n=>await this.content.delete(n),this.getTerm=n=>this.terms.get(n),this.getTerms=(n,r={value:void 0,status:void 0})=>n&&n.length>0?this.terms.bulkGet(n):this.terms.filter(i=>{if(i.type==="symbol")return!1;let a=!0;return r.value&&!i.value.toLowerCase().includes(r.value.toLowerCase())&&(a=!1),r.status&&i.status!==r.status&&(a=!1),a}).toArray(),this.getContents=(n,r={title:void 0})=>n&&n.length>0?this.content.bulkGet(n):this.content.filter(i=>{let a=!0;return r.title&&!i.title.toLowerCase().includes(r.title.toLowerCase())&&(a=!1),a}).toArray(),this.updateContent=async(n,r)=>{try{const i=await Promise.all(Xi(r.originalString,r.id).map(async a=>{const s=await ce.terms.get(a.id);return s||(this.terms.add(a),a)}));return this.content.update(n,{...r,parsed:i,updatedAt:O().toISOString()})}catch(i){return i}},this.getContent=async n=>{try{const r=await this.content.get(n),i=await Promise.all(r.parsed.map(async s=>{const o=await this.terms.get(s.id);return o||s})),a={...r,parsed:i};return await this.updateContent(r.id,a),a}catch(r){return r}}}}const ce=new xp,Qi={id:null,originalString:"",title:"",parsed:[]},{subscribe:Ap,update:mi,set:wn}=Kr(Qi),Be={subscribe:Ap,parseOriginalString:Xi,setDefault:()=>wn(Qi),delete:async e=>{await ce.deleteContent(e),wn(Qi)},createContent:async(e,t,n=[],r=!0)=>{let i;if(r){try{i=await ce.addContent(t,e,n)}catch(a){return a}wn(await ce.getContent(i))}mi(a=>({...a,originalString:e,parsed:n}))},setContent:async e=>{const t=await ce.getContent(e);if(t){const n=t.parsed.map(r=>r.id);t.parsed=await ce.getTerms(n),wn(t)}},setTitle:e=>{mi(t=>({...t,title:e}))},getContent:async e=>{if(!e)return;const t=await ce.getContent(e);wn(t)},updateOrCreateTerm:async(e,t,n=!0)=>{let r;if(n){let i=await ce.getTerm(e.id);r=i?{...i,...t}:{...e,...t},await ce.updateTerm(r)}else r=e;return mi(i=>{const a=i.parsed.map(o=>o.id===e.id?{...o,...r}:o);return{...i,parsed:a}}),r}};function ms(e,t,n){const r=e.slice();return r[2]=t[n],r}function ys(e){let t,n;return t=new $s({props:{disabled:!0,term:e[2]}}),{c(){Le(t.$$.fragment)},m(r,i){Ae(t,r,i),n=!0},p(r,i){const a={};i&1&&(a.term=r[2]),t.$set(a)},i(r){n||(q(t.$$.fragment,r),n=!0)},o(r){se(t.$$.fragment,r),n=!1},d(r){Pe(t,r)}}}function Pp(e){let t,n,r=e[0],i=[];for(let s=0;s<r.length;s+=1)i[s]=ys(ms(e,r,s));const a=s=>se(i[s],1,1,()=>{i[s]=null});return{c(){t=E("div");for(let s=0;s<i.length;s+=1)i[s].c();P(t,"class","container-fluid")},m(s,o){L(s,t,o);for(let u=0;u<i.length;u+=1)i[u].m(t,null);n=!0},p(s,[o]){if(o&1){r=s[0];let u;for(u=0;u<r.length;u+=1){const l=ms(s,r,u);i[u]?(i[u].p(l,o),q(i[u],1)):(i[u]=ys(l),i[u].c(),q(i[u],1),i[u].m(t,null))}for(Vt(),u=r.length;u<i.length;u+=1)a(u);Gt()}},i(s){if(!n){for(let o=0;o<r.length;o+=1)q(i[o]);n=!0}},o(s){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)se(i[o]);n=!1},d(s){s&&N(t),Lr(i,s)}}}function Rp(e,t,n){let r,{originalString:i=""}=t;return e.$$set=a=>{"originalString"in a&&n(1,i=a.originalString)},e.$$.update=()=>{e.$$.dirty&2&&n(0,r=Be.parseOriginalString(i))},[r,i]}class du extends Me{constructor(t){super(),Oe(this,t,Rp,Pp,Se,{originalString:1})}}function Yp(e){let t,n,r,i,a,s,o,u,l,c,f,h,p,d;return u=new du({props:{originalString:e[1]}}),{c(){t=E("form"),n=E("input"),i=H(),a=E("textarea"),o=H(),Le(u.$$.fragment),l=H(),c=E("button"),f=be("Submit"),P(n,"placeholder","Title"),P(n,"type","text"),P(n,"aria-invalid",r=e[0].title&&!0),P(n,"class","svelte-1bfl725"),de(n,"error",e[0].title),P(a,"placeholder","Something interesting to read..."),P(a,"type","text"),P(a,"aria-invalid",s=e[0].content&&!0),P(a,"class","svelte-1bfl725"),de(a,"error",e[0].originalString),P(c,"aria-busy",e[3])},m(m,v){L(m,t,v),M(t,n),ue(n,e[2]),M(t,i),M(t,a),ue(a,e[1]),M(t,o),Ae(u,t,null),M(t,l),M(t,c),M(c,f),h=!0,p||(d=[J(n,"input",e[5]),J(a,"input",e[6]),J(t,"submit",ta(e[4]))],p=!0)},p(m,[v]){(!h||v&1&&r!==(r=m[0].title&&!0))&&P(n,"aria-invalid",r),v&4&&n.value!==m[2]&&ue(n,m[2]),v&1&&de(n,"error",m[0].title),(!h||v&1&&s!==(s=m[0].content&&!0))&&P(a,"aria-invalid",s),v&2&&ue(a,m[1]),v&1&&de(a,"error",m[0].originalString);const g={};v&2&&(g.originalString=m[1]),u.$set(g),(!h||v&8)&&P(c,"aria-busy",m[3])},i(m){h||(q(u.$$.fragment,m),h=!0)},o(m){se(u.$$.fragment,m),h=!1},d(m){m&&N(t),Pe(u),p=!1,Te(d)}}}function Ip(e,t,n){let r;$n(e,Be,f=>n(7,r=f));let i={},a="",s="",o=!1;const u=async()=>{n(3,o=!0),s&&a&&(await Be.createContent(a,s)?(n(0,i.title="This title is not unique!",i),n(3,o=!1)):(n(0,i={}),kr(`/content/${r.id}`))),r.title||n(0,i.title="A title is required!",i),r.originalString||n(0,i.content="A content is required!",i),n(3,o=!1)};function l(){s=this.value,n(2,s)}function c(){a=this.value,n(1,a)}return[i,a,s,o,u,l,c]}class Fp extends Me{constructor(t){super(),Oe(this,t,Ip,Yp,Se,{})}}function Np(e){return{c:R,m:R,p:R,i:R,o:R,d:R}}function Lp(e){let t,n,r,i,a,s,o,u,l,c,f,h,p,d,m,v;return u=new du({props:{originalString:e[2]}}),{c(){t=E("form"),n=E("h1"),n.textContent="Teste",r=H(),i=E("input"),a=H(),s=E("textarea"),o=H(),Le(u.$$.fragment),l=H(),c=E("button"),c.textContent="Submit",f=H(),h=E("button"),p=be("Delete"),P(i,"class","svelte-15vg6wz"),de(i,"error",e[1].title),P(s,"class","svelte-15vg6wz"),de(s,"error",e[1].originalString),P(h,"class","secondary"),P(h,"aria-busy",e[0])},m(g,b){L(g,t,b),M(t,n),M(t,r),M(t,i),ue(i,e[3]),M(t,a),M(t,s),ue(s,e[2]),M(t,o),Ae(u,t,null),M(t,l),M(t,c),L(g,f,b),L(g,h,b),M(h,p),d=!0,m||(v=[J(i,"input",e[10]),J(i,"input",e[7]),J(s,"input",e[11]),J(s,"input",e[6]),J(t,"submit",ta(e[5])),J(h,"click",e[8])],m=!0)},p(g,b){b&8&&i.value!==g[3]&&ue(i,g[3]),b&2&&de(i,"error",g[1].title),b&4&&ue(s,g[2]),b&2&&de(s,"error",g[1].originalString);const k={};b&4&&(k.originalString=g[2]),u.$set(k),(!d||b&1)&&P(h,"aria-busy",g[0])},i(g){d||(q(u.$$.fragment,g),d=!0)},o(g){se(u.$$.fragment,g),d=!1},d(g){g&&N(t),Pe(u),g&&N(f),g&&N(h),m=!1,Te(v)}}}function Wp(e){let t;return{c(){t=E("p"),t.textContent="Processing...",P(t,"aria-busy",!0)},m(n,r){L(n,t,r)},p:R,i:R,o:R,d(n){n&&N(t)}}}function Kp(e){let t,n,r={ctx:e,current:null,token:null,hasCatch:!1,pending:Wp,then:Lp,catch:Np,blocks:[,,,]};return xt(e[4],r),{c(){t=ze(),r.block.c()},m(i,a){L(i,t,a),r.block.m(i,r.anchor=a),r.mount=()=>t.parentNode,r.anchor=t,n=!0},p(i,[a]){e=i,cn(r,e,a)},i(i){n||(q(r.block),n=!0)},o(i){for(let a=0;a<3;a+=1){const s=r.blocks[a];se(s)}n=!1},d(i){i&&N(t),r.block.d(i),r.token=null,r=null}}}function $p(e,t,n){let r;$n(e,Be,v=>n(12,r=v));let{params:i={slug:void 0}}=t;const a=Be.getContent(i.slug);let s=!1,o={},{originalString:u,title:l}=r;const c=async()=>{r.title&&r.originalString&&(await ce.updateContent(r.id,r),n(1,o={}),kr(`/content/${r.id}`)),r.title||n(1,o.title="A title is required!",o),r.originalString||n(1,o.content="A content is required!",o)},f=()=>Be.createContent(u,l,r.parsed,!1),h=()=>Be.setTitle(l),p=async()=>{n(0,s=!0),await Be.delete(i.slug),kr("/content")};function d(){l=this.value,n(3,l)}function m(){u=this.value,n(2,u)}return e.$$set=v=>{"params"in v&&n(9,i=v.params)},[s,o,u,l,a,c,f,h,p,i,d,m]}class jp extends Me{constructor(t){super(),Oe(this,t,$p,Kp,Se,{params:9})}}var ur=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bp(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var pu=Bp,Up=typeof ur=="object"&&ur&&ur.Object===Object&&ur,Hp=Up,Vp=Hp,Gp=typeof self=="object"&&self&&self.Object===Object&&self,zp=Vp||Gp||Function("return this")(),mu=zp,Zp=mu,qp=function(){return Zp.Date.now()},Xp=qp,Qp=/\s/;function Jp(e){for(var t=e.length;t--&&Qp.test(e.charAt(t)););return t}var em=Jp,tm=em,nm=/^\s+/;function rm(e){return e&&e.slice(0,tm(e)+1).replace(nm,"")}var im=rm,am=mu,sm=am.Symbol,yu=sm,vs=yu,vu=Object.prototype,om=vu.hasOwnProperty,um=vu.toString,bn=vs?vs.toStringTag:void 0;function lm(e){var t=om.call(e,bn),n=e[bn];try{e[bn]=void 0;var r=!0}catch{}var i=um.call(e);return r&&(t?e[bn]=n:delete e[bn]),i}var cm=lm,fm=Object.prototype,hm=fm.toString;function dm(e){return hm.call(e)}var pm=dm,_s=yu,mm=cm,ym=pm,vm="[object Null]",_m="[object Undefined]",gs=_s?_s.toStringTag:void 0;function gm(e){return e==null?e===void 0?_m:vm:gs&&gs in Object(e)?mm(e):ym(e)}var wm=gm;function bm(e){return e!=null&&typeof e=="object"}var km=bm,Sm=wm,Dm=km,Tm="[object Symbol]";function Om(e){return typeof e=="symbol"||Dm(e)&&Sm(e)==Tm}var Mm=Om,Em=im,ws=pu,Cm=Mm,bs=0/0,xm=/^[-+]0x[0-9a-f]+$/i,Am=/^0b[01]+$/i,Pm=/^0o[0-7]+$/i,Rm=parseInt;function Ym(e){if(typeof e=="number")return e;if(Cm(e))return bs;if(ws(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ws(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Em(e);var n=Am.test(e);return n||Pm.test(e)?Rm(e.slice(2),n?2:8):xm.test(e)?bs:+e}var Im=Ym,Fm=pu,yi=Xp,ks=Im,Nm="Expected a function",Lm=Math.max,Wm=Math.min;function Km(e,t,n){var r,i,a,s,o,u,l=0,c=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(Nm);t=ks(t)||0,Fm(n)&&(c=!!n.leading,f="maxWait"in n,a=f?Lm(ks(n.maxWait)||0,t):a,h="trailing"in n?!!n.trailing:h);function p(y){var T=r,S=i;return r=i=void 0,l=y,s=e.apply(S,T),s}function d(y){return l=y,o=setTimeout(g,t),c?p(y):s}function m(y){var T=y-u,S=y-l,A=t-T;return f?Wm(A,a-S):A}function v(y){var T=y-u,S=y-l;return u===void 0||T>=t||T<0||f&&S>=a}function g(){var y=yi();if(v(y))return b(y);o=setTimeout(g,m(y))}function b(y){return o=void 0,h&&r?p(y):(r=i=void 0,s)}function k(){o!==void 0&&clearTimeout(o),l=0,r=u=i=o=void 0}function w(){return o===void 0?s:b(yi())}function _(){var y=yi(),T=v(y);if(r=arguments,i=this,u=y,T){if(o===void 0)return d(u);if(f)return clearTimeout(o),o=setTimeout(g,t),p(u)}return o===void 0&&(o=setTimeout(g,t)),s}return _.cancel=k,_.flush=w,_}var _u=Km;function Ss(e,t,n){const r=e.slice();return r[6]=t[n],r}function $m(e){let t,n,r=e[9]+"",i;return{c(){t=E("p"),n=be("Something went wrong... "),i=be(r)},m(a,s){L(a,t,s),M(t,n),M(t,i)},p(a,s){s&1&&r!==(r=a[9]+"")&&un(i,r)},d(a){a&&N(t)}}}function jm(e){let t,n,r,i,a,s=e[5],o=[];for(let u=0;u<s.length;u+=1)o[u]=Ds(Ss(e,s,u));return{c(){t=E("input"),n=H(),r=E("div");for(let u=0;u<o.length;u+=1)o[u].c();P(t,"type","search"),P(t,"id","search"),P(t,"name","search"),P(t,"placeholder","Search"),P(r,"class","grid")},m(u,l){L(u,t,l),ue(t,e[1]),L(u,n,l),L(u,r,l);for(let c=0;c<o.length;c+=1)o[c].m(r,null);i||(a=[lt(e[3].call(null,t)),J(t,"input",e[4]),J(t,"keyup",e[2])],i=!0)},p(u,l){if(l&2&&ue(t,u[1]),l&1){s=u[5];let c;for(c=0;c<s.length;c+=1){const f=Ss(u,s,c);o[c]?o[c].p(f,l):(o[c]=Ds(f),o[c].c(),o[c].m(r,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=s.length}},d(u){u&&N(t),u&&N(n),u&&N(r),Lr(o,u),i=!1,Te(a)}}}function Ds(e){let t,n,r,i,a=e[6].title+"",s,o,u,l,c,f,h;return{c(){t=E("a"),n=E("article"),r=E("header"),i=E("h4"),s=be(a),o=H(),u=E("footer"),u.textContent="Last time seen...",l=H(),P(t,"href",c=`/content/${e[6].id}`)},m(p,d){L(p,t,d),M(t,n),M(n,r),M(r,i),M(i,s),M(n,o),M(n,u),M(t,l),f||(h=lt(Nt.call(null,t)),f=!0)},p(p,d){d&1&&a!==(a=p[6].title+"")&&un(s,a),d&1&&c!==(c=`/content/${p[6].id}`)&&P(t,"href",c)},d(p){p&&N(t),f=!1,h()}}}function Bm(e){let t;return{c(){t=E("p"),P(t,"aria-busy",!0)},m(n,r){L(n,t,r)},p:R,d(n){n&&N(t)}}}function Um(e){let t,n,r={ctx:e,current:null,token:null,hasCatch:!0,pending:Bm,then:jm,catch:$m,value:5,error:9};return xt(n=e[0],r),{c(){t=E("section"),r.block.c()},m(i,a){L(i,t,a),r.block.m(t,r.anchor=null),r.mount=()=>t,r.anchor=null},p(i,[a]){e=i,r.ctx=e,a&1&&n!==(n=e[0])&&xt(n,r)||cn(r,e,a)},i:R,o:R,d(i){i&&N(t),r.block.d(),r.token=null,r=null}}}function Hm(e,t,n){let r=ce.getContents(),i;const a=_u(()=>{n(0,r=ce.getContents(void 0,{title:i}))},500),s=u=>{u.focus()};function o(){i=this.value,n(1,i)}return[r,i,a,s,o]}class Vm extends Me{constructor(t){super(),Oe(this,t,Hm,Um,Se,{})}}function Gm(e){let t,n,r;return n=new Vm({}),{c(){t=E("section"),Le(n.$$.fragment)},m(i,a){L(i,t,a),Ae(n,t,null),r=!0},p:R,i(i){r||(q(n.$$.fragment,i),r=!0)},o(i){se(n.$$.fragment,i),r=!1},d(i){i&&N(t),Pe(n)}}}class zm extends Me{constructor(t){super(),Oe(this,t,null,Gm,Se,{})}}const Zm={0:"neverSeen",1:"regular",2:"good",3:"proficient"},qm=e=>e<Object.keys(Zm).length-1?e+1:0;function Ts(e,t,n){const r=e.slice();return r[6]=t[n],r}function Xm(e){return{c:R,m:R,p:R,i:R,o:R,d:R}}function Qm(e){let t,n,r,i;const a=[ey,Jm],s=[];function o(u,l){return u[1]?1:0}return t=o(e),n=s[t]=a[t](e),{c(){n.c(),r=ze()},m(u,l){s[t].m(u,l),L(u,r,l),i=!0},p(u,l){let c=t;t=o(u),t===c?s[t].p(u,l):(Vt(),se(s[c],1,1,()=>{s[c]=null}),Gt(),n=s[t],n?n.p(u,l):(n=s[t]=a[t](u),n.c()),q(n,1),n.m(r.parentNode,r))},i(u){i||(q(n),i=!0)},o(u){se(n),i=!1},d(u){s[t].d(u),u&&N(r)}}}function Jm(e){let t,n,r=e[1].parsed,i=[];for(let s=0;s<r.length;s+=1)i[s]=Os(Ts(e,r,s));const a=s=>se(i[s],1,1,()=>{i[s]=null});return{c(){for(let s=0;s<i.length;s+=1)i[s].c();t=ze()},m(s,o){for(let u=0;u<i.length;u+=1)i[u].m(s,o);L(s,t,o),n=!0},p(s,o){if(o&10){r=s[1].parsed;let u;for(u=0;u<r.length;u+=1){const l=Ts(s,r,u);i[u]?(i[u].p(l,o),q(i[u],1)):(i[u]=Os(l),i[u].c(),q(i[u],1),i[u].m(t.parentNode,t))}for(Vt(),u=r.length;u<i.length;u+=1)a(u);Gt()}},i(s){if(!n){for(let o=0;o<r.length;o+=1)q(i[o]);n=!0}},o(s){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)se(i[o]);n=!1},d(s){Lr(i,s),s&&N(t)}}}function ey(e){let t;return{c(){t=E("p"),t.textContent="Content not found"},m(n,r){L(n,t,r)},p:R,i:R,o:R,d(n){n&&N(t)}}}function Os(e){let t,n;function r(){return e[5](e[6])}return t=new $s({props:{term:e[6]}}),t.$on("toggle",r),{c(){Le(t.$$.fragment)},m(i,a){Ae(t,i,a),n=!0},p(i,a){e=i;const s={};a&2&&(s.term=e[6]),t.$set(s)},i(i){n||(q(t.$$.fragment,i),n=!0)},o(i){se(t.$$.fragment,i),n=!1},d(i){Pe(t,i)}}}function ty(e){let t;return{c(){t=E("p"),P(t,"aria-busy",!0)},m(n,r){L(n,t,r)},p:R,i:R,o:R,d(n){n&&N(t)}}}function ny(e){let t,n,r,i,a,s,o={ctx:e,current:null,token:null,hasCatch:!1,pending:ty,then:Qm,catch:Xm,blocks:[,,,]};return xt(e[2],o),{c(){t=E("div"),n=E("button"),n.textContent="Edit",r=H(),o.block.c(),P(t,"class","container-fluid")},m(u,l){L(u,t,l),M(t,n),M(t,r),o.block.m(t,o.anchor=null),o.mount=()=>t,o.anchor=null,i=!0,a||(s=J(n,"click",e[4]),a=!0)},p(u,[l]){e=u,cn(o,e,l)},i(u){i||(q(o.block),i=!0)},o(u){for(let l=0;l<3;l+=1){const c=o.blocks[l];se(c)}i=!1},d(u){u&&N(t),o.block.d(),o.token=null,o=null,a=!1,s()}}}function ry(e,t,n){let r;$n(e,Be,l=>n(1,r=l));let{params:i={slug:void 0}}=t;const a=Be.getContent(i.slug),s=async l=>{await Be.updateOrCreateTerm(l,{status:qm(l.status)})},o=()=>kr(`/edit/${i.slug}`),u=l=>s(l);return e.$$set=l=>{"params"in l&&n(0,i=l.params)},[i,r,a,s,o,u]}class iy extends Me{constructor(t){super(),Oe(this,t,ry,ny,Se,{params:0})}}const Ji="light",ay="#0f95c1",sy="#06769a",oy="#ffffff",uy={primary:ay,"primary-hover":sy,"primary-inverse":oy},ly={dark:"dark",light:"light"},Et={theme:Ji,colors:uy},cy=localStorage.getItem("theme")||Et.theme,fy=localStorage.getItem("primary")||Et.colors.primary,hy=localStorage.getItem("primary-hover")||Et.colors["primary-hover"],dy=localStorage.getItem("primary-inverse")||Et.colors["primary-inverse"],{update:lr,subscribe:py}=Kr({theme:cy,colors:{primary:fy,"primary-hover":hy,"primary-inverse":dy}}),Kt={subscribe:py,availableThemes:ly,applyTheme:e=>{let t;if(e)localStorage.setItem("theme",e),lr(n=>({...n,theme:e})),t=e;else{let n=localStorage.getItem("theme");n||(localStorage.setItem("theme",Ji),n=Ji),lr(r=>({...r,theme:n})),t=n}document.querySelector("html").setAttribute("data-theme",t)},applyColors:e=>{const t={primary:localStorage.getItem("primary")||Et.colors.primary,"primary-hover":localStorage.getItem("primary-hover")||Et.colors["primary-hover"],"primary-inverse":localStorage.getItem("primary-inverse")||Et.colors["primary-inverse"]};let n=e?{...t,...e}:t;Object.keys(n).forEach(r=>{localStorage.setItem(r,n[r])}),lr(r=>({...r,colors:n}))},resetConfigs:()=>{localStorage.clear(),lr(e=>Et)}};function my(e){let t,n,r,i,a,s,o,u,l,c,f,h;return{c(){t=E("form"),n=E("input"),r=H(),i=E("input"),a=H(),s=E("input"),o=H(),u=E("input"),l=H(),c=E("button"),c.textContent="Reset",P(n,"type","checkbox"),P(n,"role","switch"),P(n,"id","primary"),P(n,"name","primary"),P(i,"type","color"),P(i,"id","primary"),P(i,"name","primary"),P(s,"type","color"),P(s,"id","primary-hover"),P(s,"name","primary-hover"),P(u,"type","color"),P(u,"id","primary-inverse"),P(u,"name","primary-inverse")},m(p,d){L(p,t,d),M(t,n),n.checked=e[1],M(t,r),M(t,i),ue(i,e[2]),M(t,a),M(t,s),ue(s,e[3]),M(t,o),M(t,u),ue(u,e[0]),M(t,l),M(t,c),f||(h=[J(n,"change",e[4]),J(n,"change",e[6]),J(i,"input",e[7]),J(i,"change",e[8]),J(s,"input",e[9]),J(s,"change",e[10]),J(u,"input",e[11]),J(u,"change",e[12]),J(c,"click",Kt.resetConfigs)],f=!0)},p(p,[d]){d&2&&(n.checked=p[1]),d&4&&ue(i,p[2]),d&8&&ue(s,p[3]),d&1&&ue(u,p[0])},i:R,o:R,d(p){p&&N(t),f=!1,Te(h)}}}function yy(e,t,n){let r;$n(e,Kt,g=>n(13,r=g));let i=r.theme==="dark",a=r.colors.primary,s=r.colors["primary-hover"],o=r.colors["primary-inverse"];const u=()=>{n(1,i=!i),Kt.applyTheme(Kt.availableThemes[i?"dark":"light"])},l=(g,b)=>{Kt.applyColors({[g]:b})};function c(){i=this.checked,n(1,i)}function f(){a=this.value,n(2,a)}const h=()=>l("primary",a);function p(){s=this.value,n(3,s)}const d=()=>l("primary-hover",s);function m(){o=this.value,n(0,o)}const v=()=>l("primary-inverse",o);return e.$$.update=()=>{e.$$.dirty&1&&console.log(o)},[o,i,a,s,u,l,c,f,h,p,d,m,v]}class vy extends Me{constructor(t){super(),Oe(this,t,yy,my,Se,{})}}function Ms(e,t,n){const r=e.slice();return r[6]=t[n],r}function _y(e){return{c:R,m:R,p:R,d:R}}function gy(e){let t,n,r=[],i=new Map,a,s,o,u=e[5];const l=c=>c[6].id;for(let c=0;c<u.length;c+=1){let f=Ms(e,u,c),h=l(f);i.set(h,r[c]=Es(h,f))}return{c(){t=E("input"),n=H();for(let c=0;c<r.length;c+=1)r[c].c();a=ze(),P(t,"type","search")},m(c,f){L(c,t,f),ue(t,e[0]),L(c,n,f);for(let h=0;h<r.length;h+=1)r[h].m(c,f);L(c,a,f),s||(o=[lt(e[3].call(null,t)),J(t,"input",e[4]),J(t,"keyup",ta(e[2]))],s=!0)},p(c,f){f&1&&ue(t,c[0]),f&2&&(u=c[5],r=Yu(r,f,l,1,c,u,i,a.parentNode,Ru,Es,a,Ms))},d(c){c&&N(t),c&&N(n);for(let f=0;f<r.length;f+=1)r[f].d(c);c&&N(a),s=!1,Te(o)}}}function Es(e,t){let n,r,i=t[6].value+"",a,s,o,u=t[6].status+"",l,c,f,h,p,d,m,v;return{key:e,first:null,c(){n=E("details"),r=E("summary"),a=be(i),s=H(),o=E("p"),l=be(u),c=H(),f=E("a"),h=be("Editar"),d=H(),P(f,"href",p="/terms/"+t[6].id),this.first=n},m(g,b){L(g,n,b),M(n,r),M(r,a),M(n,s),M(n,o),M(o,l),M(n,c),M(n,f),M(f,h),M(n,d),m||(v=lt(Nt.call(null,f)),m=!0)},p(g,b){t=g,b&2&&i!==(i=t[6].value+"")&&un(a,i),b&2&&u!==(u=t[6].status+"")&&un(l,u),b&2&&p!==(p="/terms/"+t[6].id)&&P(f,"href",p)},d(g){g&&N(n),m=!1,v()}}}function wy(e){let t;return{c(){t=E("p"),P(t,"aria-busy","true")},m(n,r){L(n,t,r)},p:R,d(n){n&&N(t)}}}function by(e){let t,n,r={ctx:e,current:null,token:null,hasCatch:!1,pending:wy,then:gy,catch:_y,value:5};return xt(n=e[1],r),{c(){t=E("section"),r.block.c()},m(i,a){L(i,t,a),r.block.m(t,r.anchor=null),r.mount=()=>t,r.anchor=null},p(i,[a]){e=i,r.ctx=e,a&2&&n!==(n=e[1])&&xt(n,r)||cn(r,e,a)},i:R,o:R,d(i){i&&N(t),r.block.d(),r.token=null,r=null}}}function ky(e,t,n){let r,i=ce.getTerms();const a=_u(()=>{n(1,i=ce.getTerms(void 0,{value:r}))},500),s=u=>{u.focus()};function o(){r=this.value,n(0,r)}return[r,i,a,s,o]}class Sy extends Me{constructor(t){super(),Oe(this,t,ky,by,Se,{})}}function Cs(e,t,n){const r=e.slice();return r[4]=t[n],r}function Dy(e){return{c:R,m:R,p:R,d:R}}function Ty(e){let t,n=e[3],r=[];for(let i=0;i<n.length;i+=1)r[i]=xs(Cs(e,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=ze()},m(i,a){for(let s=0;s<r.length;s+=1)r[s].m(i,a);L(i,t,a)},p(i,a){if(a&7){n=i[3];let s;for(s=0;s<n.length;s+=1){const o=Cs(i,n,s);r[s]?r[s].p(o,a):(r[s]=xs(o),r[s].c(),r[s].m(t.parentNode,t))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(i){Lr(r,i),i&&N(t)}}}function xs(e){let t,n,r,i=e[2](e[4].originalString,e[0].value)+"",a,s,o,u=e[4].title+"",l,c,f,h;return{c(){t=E("a"),n=E("blockquote"),r=new Cu(!1),a=H(),s=E("footer"),o=E("cite"),l=be(u),c=H(),r.a=a,P(t,"href","/content/"+e[4].id)},m(p,d){L(p,t,d),M(t,n),r.m(i,n),M(n,a),M(n,s),M(s,o),M(o,l),M(t,c),f||(h=lt(Nt.call(null,t)),f=!0)},p(p,d){d&1&&i!==(i=p[2](p[4].originalString,p[0].value)+"")&&r.p(i)},d(p){p&&N(t),f=!1,h()}}}function Oy(e){let t;return{c(){t=E("p"),P(t,"aria-busy","true")},m(n,r){L(n,t,r)},p:R,d(n){n&&N(t)}}}function My(e){let t,n={ctx:e,current:null,token:null,hasCatch:!1,pending:Oy,then:Ty,catch:Dy,value:3};return xt(e[1],n),{c(){t=ze(),n.block.c()},m(r,i){L(r,t,i),n.block.m(r,n.anchor=i),n.mount=()=>t.parentNode,n.anchor=t},p(r,[i]){e=r,cn(n,e,i)},i:R,o:R,d(r){r&&N(t),n.block.d(r),n.token=null,n=null}}}function Ey(e,t,n){let{term:r}=t;const i=ce.getContents(r.sources),a=(s,o)=>{const u=s.toLowerCase(),l=o.toLowerCase(),c=120,f=u.indexOf(l),h=Math.max(f-c,0),p=Math.min(f+c,s.length),d=RegExp(`(${o})`,"gi");return`...${s.slice(h,p)}...`.replaceAll(d,`<strong>${o.toUpperCase()}</strong>`)};return e.$$set=s=>{"term"in s&&n(0,r=s.term)},[r,i,a]}class Cy extends Me{constructor(t){super(),Oe(this,t,Ey,My,Se,{term:0})}}function xy(e){let t,n,r,i,a,s,o;return{c(){t=E("form"),n=E("textarea"),r=H(),i=E("button"),a=be("Submit"),P(i,"aria-busy",e[0])},m(u,l){L(u,t,l),M(t,n),ue(n,e[1]),M(t,r),M(t,i),M(i,a),s||(o=[J(n,"input",e[4]),J(t,"submit",e[2])],s=!0)},p(u,[l]){l&2&&ue(n,u[1]),l&1&&P(i,"aria-busy",u[0])},i:R,o:R,d(u){u&&N(t),s=!1,Te(o)}}}function Ay(e,t,n){let{term:r}=t,{loading:i=!1}=t,a=r.notes;const s=na(),o=()=>{s("onSave",{notes:a})};function u(){a=this.value,n(1,a)}return e.$$set=l=>{"term"in l&&n(3,r=l.term),"loading"in l&&n(0,i=l.loading)},[i,a,o,r,u]}class Py extends Me{constructor(t){super(),Oe(this,t,Ay,xy,Se,{term:3,loading:0})}}function Ry(e){return{c:R,m:R,p:R,i:R,o:R,d:R}}function Yy(e){let t,n,r=e[4].value+"",i,a,s,o,u,l,c,f,h,p,d;s=new Cy({props:{term:e[4]}});function m(...v){return e[3](e[4],...v)}return u=new Py({props:{loading:e[0],term:e[4]}}),u.$on("onSave",m),{c(){t=E("article"),n=E("header"),i=be(r),a=H(),Le(s.$$.fragment),o=H(),Le(u.$$.fragment),l=H(),c=E("footer"),c.textContent="bla bla",f=H(),h=E("iframe"),Du(h.src,p=`https://www.linguee.com/english-portuguese/translation/${e[4].value}.html`)||P(h,"src",p),P(h,"title",e[4].value)},m(v,g){L(v,t,g),M(t,n),M(n,i),M(t,a),Ae(s,t,null),M(t,o),Ae(u,t,null),M(t,l),M(t,c),L(v,f,g),L(v,h,g),d=!0},p(v,g){e=v;const b={};g&1&&(b.loading=e[0]),u.$set(b)},i(v){d||(q(s.$$.fragment,v),q(u.$$.fragment,v),d=!0)},o(v){se(s.$$.fragment,v),se(u.$$.fragment,v),d=!1},d(v){v&&N(t),Pe(s),Pe(u),v&&N(f),v&&N(h)}}}function Iy(e){let t;return{c(){t=E("p"),P(t,"aria-busy","true")},m(n,r){L(n,t,r)},p:R,i:R,o:R,d(n){n&&N(t)}}}function Fy(e){let t,n,r={ctx:e,current:null,token:null,hasCatch:!1,pending:Iy,then:Yy,catch:Ry,value:4,blocks:[,,,]};return xt(e[1],r),{c(){t=ze(),r.block.c()},m(i,a){L(i,t,a),r.block.m(i,r.anchor=a),r.mount=()=>t.parentNode,r.anchor=t,n=!0},p(i,[a]){e=i,cn(r,e,a)},i(i){n||(q(r.block),n=!0)},o(i){for(let a=0;a<3;a+=1){const s=r.blocks[a];se(s)}n=!1},d(i){i&&N(t),r.block.d(i),r.token=null,r=null}}}function Ny(e,t,n){let{params:r={id:void 0}}=t,i=!1;const a=ce.getTerm(r.id),s=async(o,u)=>{n(0,i=!0),await ce.updateTerm({...o,notes:u.detail.notes}),n(0,i=!1)};return e.$$set=o=>{"params"in o&&n(2,r=o.params)},[i,a,r,s]}class Ly extends Me{constructor(t){super(),Oe(this,t,Ny,Fy,Se,{params:2})}}const Wy={"/edit/:slug":jp,"/create":Fp,"/content":zm,"/content/:slug":iy,"/settings":vy,"/terms":Sy,"/terms/:id":Ly};function Ky(e){let t,n,r,i,a,s,o,u,l,c,f,h,p,d,m,v,g,b,k,w,_;return b=new Bu({props:{routes:Wy}}),{c(){t=E("main"),n=E("nav"),r=E("ul"),r.innerHTML="<li><strong>LWT</strong></li>",i=H(),a=E("ul"),s=E("li"),o=E("a"),o.textContent="Create",u=H(),l=E("li"),c=E("a"),c.textContent="Read",f=H(),h=E("li"),p=E("a"),p.textContent="Terms",d=H(),m=E("li"),v=E("a"),v.textContent="Settings",g=H(),Le(b.$$.fragment),P(o,"href","/create"),P(c,"href","/content"),P(p,"href","/terms"),P(v,"href","/settings"),P(t,"class","container svelte-1jt5vw9"),P(t,"style",e[0])},m(y,T){L(y,t,T),M(t,n),M(n,r),M(n,i),M(n,a),M(a,s),M(s,o),M(a,u),M(a,l),M(l,c),M(a,f),M(a,h),M(h,p),M(a,d),M(a,m),M(m,v),M(t,g),Ae(b,t,null),k=!0,w||(_=[lt(Nt.call(null,o)),lt(Nt.call(null,c)),lt(Nt.call(null,p)),lt(Nt.call(null,v))],w=!0)},p(y,[T]){(!k||T&1)&&P(t,"style",y[0])},i(y){k||(q(b.$$.fragment,y),k=!0)},o(y){se(b.$$.fragment,y),k=!1},d(y){y&&N(t),Pe(b),w=!1,Te(_)}}}function $y(e,t=1){var n;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(e))return n=e.substring(1).split(""),n.length==3&&(n=[n[0],n[0],n[1],n[1],n[2],n[2]]),n="0x"+n.join(""),"rgba("+[n>>16&255,n>>8&255,n&255].join(",")+`,${t})`;throw new Error("Bad Hex")}function jy(e,t,n){let r,i;return $n(e,Kt,a=>n(1,i=a)),Kt.applyTheme(),e.$$.update=()=>{e.$$.dirty&2&&n(0,r=Object.keys(i.colors).reduce((a,s)=>a+`--${s}:${i.colors[s]};`,"")+`--primary-focus:${$y(i.colors.primary,.125)};`)},[r,i]}class By extends Me{constructor(t){super(),Oe(this,t,jy,Ky,Se,{})}}new By({target:document.getElementById("app")})});export default Uy();
